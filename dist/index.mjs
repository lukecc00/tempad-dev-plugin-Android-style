function U(t){return t}function g(t,e="dp"){if(!t)return"";if(t.endsWith("%"))return t;const r=t.match(/^(-?[\d.]+)px$/);return r?`${Number.parseFloat(r[1])}${e}`:t}function S(t,e){const r=e.split(/\s+/).filter(Boolean),o={},i={};return r.length===1?i.top=i.right=i.bottom=i.left=r[0]:r.length===2?(i.top=i.bottom=r[0],i.right=i.left=r[1]):r.length===3?(i.top=r[0],i.right=i.left=r[1],i.bottom=r[2]):r.length===4&&(i.top=r[0],i.right=r[1],i.bottom=r[2],i.left=r[3]),r.length===1?(t==="padding"&&(o["android:padding"]=g(r[0],"dp")),t==="margin"&&(o["android:layout_margin"]=g(r[0],"dp"))):(i.top&&(o[t==="padding"?"android:paddingTop":"android:layout_marginTop"]=g(i.top,"dp")),i.bottom&&(o[t==="padding"?"android:paddingBottom":"android:layout_marginBottom"]=g(i.bottom,"dp")),i.left&&(o[t==="padding"?"android:paddingStart":"android:layout_marginStart"]=g(i.left,"dp")),i.right&&(o[t==="padding"?"android:paddingEnd":"android:layout_marginEnd"]=g(i.right,"dp"))),o}function _(t){if(!t)return"";if(t.startsWith("#")){let e=t.substring(1);if(e.length===3&&(e=e.split("").map(r=>r+r).join("")),e.length===4&&(e=e.split("").map(r=>r+r).join("")),e.length===8){const r=e.substring(0,2),o=e.substring(2,4),i=e.substring(4,6);return`#${e.substring(6,8)}${r}${o}${i}`.toUpperCase()}return t.toUpperCase()}if(t.startsWith("rgb")){const e=t.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*([\d.]+))?\)/);if(e){const r=Number.parseInt(e[1]),o=Number.parseInt(e[2]),i=Number.parseInt(e[3]),s=e[4]?Number.parseFloat(e[4]):1,n=Math.round(s*255),l=h=>h.toString(16).padStart(2,"0").toUpperCase();return n===255?`#${l(r)}${l(o)}${l(i)}`:`#${l(n)}${l(r)}${l(o)}${l(i)}`}}return{white:"#FFFFFF",black:"#000000",red:"#FF0000",blue:"#0000FF",green:"#008000",transparent:"#00000000",gray:"#808080",yellow:"#FFFF00",cyan:"#00FFFF",magenta:"#FF00FF",lightgray:"#D3D3D3",darkgray:"#A9A9A9"}[t.toLowerCase()]||"#000000"}function z(t){if(t["overflow-y"]==="scroll"||t["overflow-y"]==="auto")return"ScrollView";if(t["overflow-x"]==="scroll"||t["overflow-x"]==="auto")return"HorizontalScrollView";if(t["box-shadow"])return"androidx.cardview.widget.CardView";if(t["background-image"]&&t["background-image"].includes("url")||t["object-fit"])return"ImageView";if(t.display==="flex")return"LinearLayout";if(t["font-family"]||t.color||t["font-size"]||t["text-align"]||t["line-height"]||t["text-overflow"])return"TextView";const e=t.width||t.height,r=t.background||t["background-color"],o=t.padding||t.display;return e||r||o?"FrameLayout":"RelativeLayout"}function M(t,e){const r={};if(t.width){let n=t.width;n==="100%"?n="match_parent":n==="auto"?n="wrap_content":n=g(n,"dp"),r["android:layout_width"]=n}else r["android:layout_width"]="wrap_content";if(t.height){let n=t.height;n==="100%"?n="match_parent":n==="auto"?n="wrap_content":n=g(n,"dp"),r["android:layout_height"]=n}else r["android:layout_height"]="wrap_content";t["max-width"]&&(r["android:maxWidth"]=g(t["max-width"],"dp")),t["min-width"]&&(r["android:minWidth"]=g(t["min-width"],"dp")),t["max-height"]&&(r["android:maxHeight"]=g(t["max-height"],"dp")),t["min-height"]&&(r["android:minHeight"]=g(t["min-height"],"dp"));const o=e.includes("CardView"),i=o?"app:cardBackgroundColor":"android:background";let s=!1;if(t["background-color"])r[i]=_(t["background-color"]),s=!0;else if(t.background){if(t.background.startsWith("#")||t.background.startsWith("rgb"))r[i]=_(t.background),s=!0;else if(t.background.startsWith("var(")){const n=t.background.match(/var\(--([\w-]+)\)/);n&&(r[i]=`@drawable/${n[1]}`,s=!0)}}if(e==="TextView"){if(t.color&&(r["android:textColor"]=_(t.color)),t["font-size"]&&(r["android:textSize"]=g(t["font-size"],"sp")),t["font-weight"]&&(t["font-weight"]==="bold"||Number.parseInt(t["font-weight"])>=700)&&(r["android:textStyle"]="bold"),t["text-align"]){const n=t["text-align"];let l="";n==="center"?l="center_horizontal":n==="right"?l="end":n==="left"&&(l="start"),r["android:gravity"]=l}if(t["line-height"]){const n=t["line-height"].match(/^(-?[\d.]+)px$/),l=t["font-size"]?.match(/^(-?[\d.]+)px$/);if(n&&l){const h=Number.parseFloat(n[1]),d=Number.parseFloat(l[1]),u=h-d;u>0&&(r["android:lineSpacingExtra"]=`${u}sp`,r["android:translationY"]=`-${u/2}sp`)}}t["text-overflow"]==="ellipsis"&&(r["android:ellipsize"]="end",t["white-space"]==="nowrap"&&(r["android:maxLines"]="1"))}if(t.padding){const n=S("padding",t.padding);Object.assign(r,n)}if(t.margin){const n=S("margin",t.margin);Object.assign(r,n)}if(t.opacity&&(r["android:alpha"]=t.opacity),t["border-radius"]){const n=g(t["border-radius"],"dp");o?r["app:cardCornerRadius"]=n:(r["android:clipToOutline"]="true",s||(r["android:background"]="@drawable/bg_rounded"))}if(t["box-shadow"]&&(o?r["app:cardElevation"]="4dp":r["android:elevation"]="4dp"),e==="LinearLayout"&&(t["flex-direction"]==="column"?r["android:orientation"]="vertical":r["android:orientation"]="horizontal"),e==="ImageView"&&(r["android:src"]="@drawable/placeholder",t["object-fit"]&&(t["object-fit"]==="cover"?r["android:scaleType"]="centerCrop":t["object-fit"]==="contain"&&(r["android:scaleType"]="centerInside"))),e!=="TextView"&&(t["justify-content"]==="center"||t["align-items"]==="center")){let n="";if(e==="LinearLayout"){const l=r["android:orientation"]==="vertical";t["justify-content"]==="center"&&(n+=l?"center_vertical":"center_horizontal"),t["align-items"]==="center"&&(n+=(n?"|":"")+(l?"center_horizontal":"center_vertical"))}else t["justify-content"]==="center"&&(n+="center_horizontal"),t["align-items"]==="center"&&(n+=`${n?"|":""}center_vertical`);n&&(r["android:gravity"]=n)}if(t.position==="absolute"||t.top||t.left||t.right||t.bottom){const n=c=>{if(!c)return null;const p=c.match(/^(-?[\d.]+)px$/);return p?Number.parseFloat(p[1]):null},l=n(t.top),h=n(t.bottom),d=n(t.left),u=n(t.right),a=c=>{const p=c.transform||"";return p.includes("translateY(-50%)")||p.includes("translate(-50%, -50%)")||p.includes("translate3d(-50%, -50%")},m=c=>{const p=c.transform||"";return p.includes("translateX(-50%)")||p.includes("translate(-50%, -50%)")||p.includes("translate3d(-50%, -50%")};t.top==="50%"&&a(t)?r["android:layout_centerVertical"]="true":l!==null&&h!==null?Math.abs(l-h)<5?r["android:layout_centerVertical"]="true":l<h?(r["android:layout_alignParentTop"]="true",r["android:layout_marginTop"]=g(t.top,"dp")):(r["android:layout_alignParentBottom"]="true",r["android:layout_marginBottom"]=g(t.bottom,"dp")):l!==null?(r["android:layout_alignParentTop"]="true",r["android:layout_marginTop"]=g(t.top,"dp")):h!==null&&(r["android:layout_alignParentBottom"]="true",r["android:layout_marginBottom"]=g(t.bottom,"dp")),t.left==="50%"&&m(t)?r["android:layout_centerHorizontal"]="true":d!==null&&u!==null?Math.abs(d-u)<5?r["android:layout_centerHorizontal"]="true":d<u?(r["android:layout_alignParentStart"]="true",r["android:layout_marginStart"]=g(t.left,"dp")):(r["android:layout_alignParentEnd"]="true",r["android:layout_marginEnd"]=g(t.right,"dp")):d!==null?(r["android:layout_alignParentStart"]="true",r["android:layout_marginStart"]=g(t.left,"dp")):u!==null&&(r["android:layout_alignParentEnd"]="true",r["android:layout_marginEnd"]=g(t.right,"dp"))}return r}function O(t){const e=z(t),r=M(t,e);e==="TextView"?(r["android:text"]||(r["android:text"]="@string/some_text"),r["android:id"]="@+id/some_id",t["text-align"]==="center"&&!r["android:gravity"]?.includes("center_vertical")&&(r["android:gravity"]=`${r["android:gravity"]||""}|top`)):(r["android:id"]=`@+id/frame_${Math.floor(Math.random()*1e4)}`,r["xmlns:android"]="http://schemas.android.com/apk/res/android",e.includes("CardView")&&(r["xmlns:app"]="http://schemas.android.com/apk/res-auto"));const o=Object.keys(r).sort((i,s)=>{const n=l=>l.startsWith("xmlns:")?0:l==="android:id"?1:l==="android:layout_width"?2:l==="android:layout_height"?3:4;return n(i)-n(s)}).map(i=>{let s=r[i];return i==="android:gravity"&&(s.startsWith("|")&&(s=s.substring(1)),s.endsWith("|")&&(s=s.substring(0,s.length-1))),`${i}="${s}"`}).join(`
  `);return`<${e}
  ${o}
/>`}function F(t,e="dp"){if(!t)return"";if(t.endsWith("%"))return t;const r=t.match(/^(-?[\d.]+)px$/);return r?`${Number.parseFloat(r[1])}.${e}`:t}function v(t){return t.endsWith("dp")||t.endsWith("sp")?t.replace(/([0-9.]+)((dp)|(sp))/,"$1.$2"):t}function R(t){return t["overflow-y"]==="scroll"||t["overflow-y"]==="auto"?"Column":t["overflow-x"]==="scroll"||t["overflow-x"]==="auto"?"Row":t["box-shadow"]?"Card":t["background-image"]&&t["background-image"].includes("url")||t["object-fit"]?"Image":t.display==="flex"?t["flex-direction"]==="column"?"Column":"Row":t["font-family"]||t.color||t["font-size"]||t["text-align"]||t["line-height"]||t["text-overflow"]?"Text":"Box"}function T(t){if(!t)return"Color.Unspecified";if(t.startsWith("#")){let e=t.substring(1);if(e.length===3&&(e=e.split("").map(r=>r+r).join("")),e.length===4&&(e=e.split("").map(r=>r+r).join("")),e.length===6)return`Color(0xFF${e.toUpperCase()})`;if(e.length===8){const r=e.substring(0,2),o=e.substring(2,4),i=e.substring(4,6);return`Color(0x${(e.substring(6,8)+r+o+i).toUpperCase()})`}}if(t.startsWith("rgba")){const e=t.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*([\d.]+))?\)/);if(e){const r=Number.parseInt(e[1]),o=Number.parseInt(e[2]),i=Number.parseInt(e[3]),s=e[4]?Number.parseFloat(e[4]):1,n=Math.round(s*255),l=h=>h.toString(16).padStart(2,"0").toUpperCase();return`Color(0x${l(n)}${l(r)}${l(o)}${l(i)})`}}if(t.startsWith("rgb")){const e=t.match(/rgb\((\d+),\s*(\d+),\s*(\d+)\)/);if(e){const r=Number.parseInt(e[1]),o=Number.parseInt(e[2]),i=Number.parseInt(e[3]),s=n=>n.toString(16).padStart(2,"0").toUpperCase();return`Color(0xFF${s(r)}${s(o)}${s(i)})`}}return{white:"Color.White",black:"Color.Black",red:"Color.Red",blue:"Color.Blue",green:"Color.Green",transparent:"Color.Transparent",gray:"Color.Gray",yellow:"Color.Yellow",cyan:"Color.Cyan",magenta:"Color.Magenta",lightgray:"Color.LightGray",darkgray:"Color.DarkGray",darkgrey:"Color.DarkGray",lightgrey:"Color.LightGray",grey:"Color.Gray"}[t.toLowerCase()]||"Color.Black"}function V(t){const e=R(t),r=[],o=[];if(t.width&&(t.width==="100%"?r.push(".fillMaxWidth()"):t.width==="auto"?r.push(".wrapContentWidth()"):r.push(`.width(${F(t.width,"dp")})`)),t.height&&(t.height==="100%"?r.push(".fillMaxHeight()"):t.height==="auto"?r.push(".wrapContentHeight()"):r.push(`.height(${F(t.height,"dp")})`)),t["flex-grow"]&&t["flex-grow"]!=="0"&&r.push(`.weight(${t["flex-grow"]}f)`),t.margin){const d=S("margin",t.margin),u=[];d["android:layout_marginStart"]&&u.push(`start = ${v(d["android:layout_marginStart"])}`),d["android:layout_marginTop"]&&u.push(`top = ${v(d["android:layout_marginTop"])}`),d["android:layout_marginEnd"]&&u.push(`end = ${v(d["android:layout_marginEnd"])}`),d["android:layout_marginBottom"]&&u.push(`bottom = ${v(d["android:layout_marginBottom"])}`),d["android:layout_margin"]&&u.push(`${v(d["android:layout_margin"])}`),u.length>0&&r.push(`.padding(${u.join(", ")})`)}if(t["border-radius"]){const d=F(t["border-radius"],"dp");r.push(`.clip(RoundedCornerShape(${d}))`)}if(t["background-color"]&&r.push(`.background(${T(t["background-color"])})`),t.border){const d=t.border.match(/([\d.]+)px\s+\w+\s+(.*)/);if(d){const u=d[1],a=d[2],m=t["border-radius"]?`RoundedCornerShape(${F(t["border-radius"],"dp")})`:"RectangleShape";r.push(`.border(${u}.dp, ${T(a)}, ${m})`)}}if(t.padding){const d=S("padding",t.padding),u=[];d["android:paddingStart"]&&u.push(`start = ${v(d["android:paddingStart"])}`),d["android:paddingTop"]&&u.push(`top = ${v(d["android:paddingTop"])}`),d["android:paddingEnd"]&&u.push(`end = ${v(d["android:paddingEnd"])}`),d["android:paddingBottom"]&&u.push(`bottom = ${v(d["android:paddingBottom"])}`),d["android:padding"]&&u.push(`${v(d["android:padding"])}`),u.length>0&&r.push(`.padding(${u.join(", ")})`)}if(e==="Text"){if(o.push('text = "Some Text"'),t.color&&o.push(`color = ${T(t.color)}`),t["font-size"]&&o.push(`fontSize = ${F(t["font-size"],"sp")}`),t["line-height"]&&o.push(`lineHeight = ${F(t["line-height"],"sp")}`),t["letter-spacing"]&&o.push(`letterSpacing = ${F(t["letter-spacing"],"sp")}`),t["font-weight"]){const d=t["font-weight"];d==="bold"||Number.parseInt(d)>=700?o.push("fontWeight = FontWeight.Bold"):Number.parseInt(d)<400?o.push("fontWeight = FontWeight.Light"):Number.parseInt(d)===500&&o.push("fontWeight = FontWeight.Medium")}if(t["text-align"]){const d=t["text-align"];d==="center"?o.push("textAlign = TextAlign.Center"):d==="right"?o.push("textAlign = TextAlign.End"):d==="justify"&&o.push("textAlign = TextAlign.Justify")}t["text-overflow"]==="ellipsis"&&(o.push("overflow = TextOverflow.Ellipsis"),t["white-space"]==="nowrap"&&o.push("maxLines = 1"))}else e==="Image"?(o.push("painter = painterResource(id = R.drawable.placeholder)"),o.push("contentDescription = null"),t["object-fit"]&&(t["object-fit"]==="cover"?o.push("contentScale = ContentScale.Crop"):t["object-fit"]==="contain"&&o.push("contentScale = ContentScale.Fit"))):(e==="Column"||e==="Row")&&(e==="Column"?(t["justify-content"]==="center"?o.push("verticalArrangement = Arrangement.Center"):t["justify-content"]==="flex-end"?o.push("verticalArrangement = Arrangement.Bottom"):t["justify-content"]==="space-between"&&o.push("verticalArrangement = Arrangement.SpaceBetween"),t["align-items"]==="center"?o.push("horizontalAlignment = Alignment.CenterHorizontally"):t["align-items"]==="flex-end"&&o.push("horizontalAlignment = Alignment.End")):(t["justify-content"]==="center"?o.push("horizontalArrangement = Arrangement.Center"):t["justify-content"]==="flex-end"?o.push("horizontalArrangement = Arrangement.End"):t["justify-content"]==="space-between"&&o.push("horizontalArrangement = Arrangement.SpaceBetween"),t["align-items"]==="center"?o.push("verticalAlignment = Alignment.CenterVertically"):t["align-items"]==="flex-end"&&o.push("verticalAlignment = Alignment.Bottom")));let i="Modifier";r.length>0?i+=`
        ${r.join(`
        `)}`:i="Modifier",o.unshift(`modifier = ${i}`);const s=o.join(`,
    `),n=["Box","Column","Row","Card"].includes(e),l="    ";let h="";return n?h=`${e}(
${l}${s.replace(/\n/g,`
${l}`)}
${l}) {
${l}${l}// Content
${l}}`:h=`${e}(
${l}${s.replace(/\n/g,`
${l}`)}
${l})`,h}function E(t){return t.replace(/[^a-z0-9]/gi,"")}function j(t){const e=t;if(e.fills&&Array.isArray(e.fills)&&e.fills.length>0){for(const r of e.fills)if(r.visible!==!1&&r.type==="SOLID"&&typeof r.color=="string")return r.color}return null}function B(t){return t.layoutMode||"NONE"}function I(t,e=0){const r="  ".repeat(e);if(t.type==="TEXT")return`${r}<TextView
${r}  android:text="${t.characters}"
${r}  android:layout_width="wrap_content"
${r}  android:layout_height="wrap_content"
${r}/>`;if(["FRAME","GROUP","INSTANCE","COMPONENT"].includes(t.type)){const o=t,i=B(t);let s="FrameLayout",n="";i==="VERTICAL"?(s="LinearLayout",n+=`
${r}  android:orientation="vertical"`):i==="HORIZONTAL"&&(s="LinearLayout",n+=`
${r}  android:orientation="horizontal"`);const l=j(t);l&&(n+=`
${r}  android:background="${_(l)}"`);const h=(o.children||[]).map(a=>I(a,e+1)).join(`
`);let d=`<${s}
${r}  android:layout_width="match_parent"
${r}  android:layout_height="match_parent"${n}>`;t.type==="INSTANCE"||t.type==="COMPONENT"?d=`<!-- Component: ${t.name} -->
${r}<${s}
${r}  android:layout_width="wrap_content"
${r}  android:layout_height="wrap_content"${n}>`:i!=="NONE"&&(d=`<${s}
${r}  android:layout_width="wrap_content"
${r}  android:layout_height="wrap_content"${n}>`);let u=h;return u.trim()||(u=`${r}<!-- No children detected. If this is a Frame, please convert it to a Component to expose its structure. -->`),`${r}${d}
${u}
${r}</${s}>`}return`${r}<!-- Unknown Node: ${t.type} -->`}function D(t){return I(t,0)}function W(t,e=0){const r="    ".repeat(e);if(t.type==="TEXT")return`${r}Text(text = "${t.characters}")`;if(["FRAME","GROUP","INSTANCE","COMPONENT"].includes(t.type)){const o=t,i=B(t);let s="Box",n="";if(i==="VERTICAL"?s="Column":i==="HORIZONTAL"&&(s="Row"),t.type==="INSTANCE"){const a=E(t.name);a&&(s=a),i==="VERTICAL"?s="Column":i==="HORIZONTAL"?s="Row":s="Box"}const l=j(t);l&&(n=`
${r}    .background(${T(l)})`);const h=(o.children||[]).map(a=>W(a,e+1)).join(`
`);let d="";n&&(d=`modifier = Modifier${n}`);let u=h;return u.trim()||(u=`${r}// No children detected. If this is a Frame, please convert it to a Component to expose its structure.`),u.trim()?d?`${r}${s}(
${r}    ${d}
${r}) {
${u}
${r}}`:`${r}${s} {
${u}
${r}}`:d?`${r}${s}(${d})`:`${r}${s}()`}return`${r}// Unknown Node: ${t.type} -->`}function G(t){return`@Composable
fun ${E(t.name)||"MyComponent"}() {
${W(t,1)}
}`}function L(t){if(!t||!t.includes("<svg"))return"";if(typeof DOMParser>"u")return"<!-- Error: DOMParser not available. This plugin runs in browser environment. -->";const e=new DOMParser().parseFromString(t,"image/svg+xml"),r=e.querySelector("svg");if(!r)return"<!-- Error: Invalid SVG content -->";const o=r.getAttribute("viewBox");let i="24.0",s="24.0";if(o){const a=o.split(/[\s,]+/).filter(Boolean);a.length===4&&(i=a[2],s=a[3])}const n=r.getAttribute("width")||`${Number.parseFloat(i)}dp`,l=r.getAttribute("height")||`${Number.parseFloat(s)}dp`;function h(a,m){const c="  ".repeat(m),p=a.tagName.toLowerCase();if(p==="g"){const $=[],f=a.getAttribute("transform");if(f){const C=f.match(/translate\(([^,]+)[,\s]([^)]+)\)/);C&&($.push(`android:translateX="${C[1].trim()}"`),$.push(`android:translateY="${C[2].trim()}"`));const A=f.match(/scale\(([^,]+)(?:[,\s]([^)]+))?\)/);A&&($.push(`android:scaleX="${A[1].trim()}"`),$.push(`android:scaleY="${(A[2]||A[1]).trim()}"`));const b=f.match(/rotate\(([^)]+)\)/);b&&$.push(`android:rotation="${b[1].trim()}"`)}const x=Array.from(a.children).map(C=>h(C,m+1)).filter(Boolean).join(`
`);if(!x)return"";const k=$.length?`
${$.map(C=>`${c}  ${C}`).join(`
`)}`:"";return`${c}<group${k}>
${x}
${c}</group>`}if(["path","rect","circle","ellipse","line","polyline","polygon"].includes(p)){let $="";if(p==="path")$=a.getAttribute("d")||"";else if(p==="rect"){const b=Number.parseFloat(a.getAttribute("x")||"0"),y=Number.parseFloat(a.getAttribute("y")||"0"),w=Number.parseFloat(a.getAttribute("width")||"0"),N=Number.parseFloat(a.getAttribute("height")||"0");$=`M ${b},${y} h ${w} v ${N} h -${w} z`}else if(p==="circle"){const b=Number.parseFloat(a.getAttribute("cx")||"0"),y=Number.parseFloat(a.getAttribute("cy")||"0"),w=Number.parseFloat(a.getAttribute("r")||"0");$=`M ${b-w},${y} a ${w},${w} 0 1,0 ${w*2},0 a ${w},${w} 0 1,0 -${w*2},0`}else if(p==="line"){const b=a.getAttribute("x1")||"0",y=a.getAttribute("y1")||"0",w=a.getAttribute("x2")||"0",N=a.getAttribute("y2")||"0";$=`M ${b},${y} L ${w},${N}`}if(!$)return"";const f=[];f.push(`android:pathData="${$}"`);const x=a.getAttribute("fill");if(x&&x!=="none")if(x.startsWith("url(#")){const b=x.substring(5,x.length-1),y=e.querySelector(`defs #${b}`);if(y&&(y.tagName==="linearGradient"||y.tagName==="radialGradient")){const w=d(y,m+1);return`${c}<path
${f.map(N=>`${c}  ${N}`).join(`
`)}>
${w}
${c}</path>`}}else f.push(`android:fillColor="${_(x)}"`);else!x&&p!=="line"&&f.push('android:fillColor="#FF000000"');const k=a.getAttribute("stroke");if(k&&k!=="none"){f.push(`android:strokeColor="${_(k)}"`),f.push(`android:strokeWidth="${a.getAttribute("stroke-width")||"1"}"`);const b=a.getAttribute("stroke-linecap");b&&f.push(`android:strokeLineCap="${b}"`);const y=a.getAttribute("stroke-linejoin");y&&f.push(`android:strokeLineJoin="${y}"`)}const C=a.getAttribute("fill-opacity");C&&f.push(`android:fillAlpha="${C}"`);const A=a.getAttribute("stroke-opacity");return A&&f.push(`android:strokeAlpha="${A}"`),`${c}<path
${f.map(b=>`${c}  ${b}`).join(`
`)}
${c}/>`}return""}function d(a,m){const c="  ".repeat(m),p=a.tagName==="linearGradient"?"linear":"radial",$=a.getAttribute("x1")||"0",f=a.getAttribute("y1")||"0",x=a.getAttribute("x2")||"0",k=a.getAttribute("y2")||"0",C=Array.from(a.querySelectorAll("stop")).map(A=>{const b=A.getAttribute("offset")||"0",y=_(A.getAttribute("stop-color")||"#000000");return`${c}  <item android:offset="${b}" android:color="${y}" />`}).join(`
`);return`${c}<aapt:attr name="android:fillColor">
${c}  <gradient
${c}    android:type="${p}"
${c}    android:startX="${$}"
${c}    android:startY="${f}"
${c}    android:endX="${x}"
${c}    android:endY="${k}">
${C}
${c}  </gradient>
${c}</aapt:attr>`}const u=Array.from(r.children).map(a=>h(a,1)).filter(Boolean).join(`
`);return`<vector xmlns:android="http://schemas.android.com/apk/res/android"
  xmlns:aapt="http://schemas.android.com/aapt"
  android:width="${n.replace("px","dp")}"
  android:height="${l.replace("px","dp")}"
  android:viewportWidth="${i}"
  android:viewportHeight="${s}">
${u}
</vector>`}const P={name:"android-xml-style",code:{css:{title:"delete-CSS",lang:"css",transform(){return""}},js:{title:"delete-JavaScript",lang:"js",transform(){return""}},"android-xml":{title:"Android XML",lang:"xml",transform({style:t}){return O(t)},transformComponent({component:t}){return D(t)}},"android-compose":{title:"Jetpack Compose",lang:"kotlin",transform({style:t}){return V(t)},transformComponent({component:t}){return G(t)}},"c-css":!1,drawable:{title:"Android Drawable",lang:"xml",transform(t){const{code:e,style:r}=t;let o=e||"",i="";if(o.includes("%3C")||o.includes("%3c"))try{const a=decodeURIComponent(o);a.includes("<svg")&&(o=a)}catch{}if(o.includes("<svg")||o.includes("http://www.w3.org/2000/svg"))return L(o);const s=r["background-image"]||r.background;if(s&&s.includes("url(")){const a=s.match(/url\(['"]?(.*?)['"]?\)/);if(a&&a[1]){let m=a[1];if(m.startsWith("data:image/svg+xml"))if(m.includes("base64,"))try{const c=m.split("base64,")[1];o=atob(c)}catch{i+="<!-- Base64 SVG \u89E3\u7801\u5931\u8D25 -->"}else{m=m.replace(/data:image\/svg\+xml.*?,/,"");try{o=decodeURIComponent(m)}catch{}}}}if(o&&o.includes("<svg"))return L(o);const n=!!r["border-radius"],l=!!r.border||!!r["border-width"],h=!!r["background-color"]||r.background&&!r.background.includes("url")||!!r.fill;if(n||l||h){const a=[];a.push('<?xml version="1.0" encoding="utf-8"?>'),a.push('<shape xmlns:android="http://schemas.android.com/apk/res/android">');const m=r["background-color"]||r.background||r.fill;if(m&&!m.includes("url"))if(m.startsWith("var(")){const c=m.match(/var\(--([\w-]+)\)/)?.[1]||"unknown";a.push(`  <solid android:color="@color/${c}" />`)}else a.push(`  <solid android:color="${_(m)}" />`);if(r["border-radius"]){const c=g(r["border-radius"],"dp");a.push(`  <corners android:radius="${c}" />`)}if(r.border||r["border-width"]){const c=g(r["border-width"]||"1px","dp");let p="#000000";if(r["border-color"])p=_(r["border-color"]);else if(r.border){const $=r.border.split(" ").find(f=>f.startsWith("#")||f.startsWith("rgb"));$&&(p=_($))}a.push(`  <stroke android:width="${c}" android:color="${p}" />`)}if(r.width&&r.height){const c=g(r.width,"dp"),p=g(r.height,"dp");a.push(`  <size android:width="${c}" android:height="${p}" />`)}return a.push("</shape>"),a.join(`
`)}const d=Object.keys(t).join(",");i+=`<!-- Debug: keys=[${d}], code.length=${e?.length}, style.keys=[${Object.keys(r).join(",")}] -->`;const u=e?e.substring(0,200).replace(/\n/g," "):"null";return`${i}
<!--
\u672A\u68C0\u6D4B\u5230 SVG \u6216 Shape \u5185\u5BB9\u3002
1. \u8BF7\u786E\u4FDD\u60A8\u9009\u4E2D\u4E86\u4E00\u4E2A Vector \u8282\u70B9\u6216\u5305\u542B SVG \u5185\u5BB9\u7684 Frame\u3002
2. \u8BF7\u786E\u8BA4 Tempad \u662F\u5426\u4E3A\u8BE5\u9009\u4E2D\u9879\u751F\u6210\u4E86 SVG \u4EE3\u7801\u3002
\u5F53\u524D\u4EE3\u7801\u9884\u89C8\uFF1A${u}
-->`},transformComponent(){return""}}}};export{P as default};
