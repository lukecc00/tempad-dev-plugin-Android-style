function X(t){return t}function g(t,e="dp"){if(!t)return"";if(t.endsWith("%"))return t;const r=t.match(/^(-?[\d.]+)px$/);return r?`${Number.parseFloat(r[1])}${e}`:t}function E(t,e){const r=e.split(/\s+/).filter(Boolean),n={},a={};return r.length===1?a.top=a.right=a.bottom=a.left=r[0]:r.length===2?(a.top=a.bottom=r[0],a.right=a.left=r[1]):r.length===3?(a.top=r[0],a.right=a.left=r[1],a.bottom=r[2]):r.length===4&&(a.top=r[0],a.right=r[1],a.bottom=r[2],a.left=r[3]),r.length===1?(t==="padding"&&(n["android:padding"]=g(r[0],"dp")),t==="margin"&&(n["android:layout_margin"]=g(r[0],"dp"))):(a.top&&(n[t==="padding"?"android:paddingTop":"android:layout_marginTop"]=g(a.top,"dp")),a.bottom&&(n[t==="padding"?"android:paddingBottom":"android:layout_marginBottom"]=g(a.bottom,"dp")),a.left&&(n[t==="padding"?"android:paddingStart":"android:layout_marginStart"]=g(a.left,"dp")),a.right&&(n[t==="padding"?"android:paddingEnd":"android:layout_marginEnd"]=g(a.right,"dp"))),n}function C(t){if(!t)return"";let e="",r="FF";if(t.startsWith("#")){const i=t.substring(1);if(i.length===3)e=i.split("").map(o=>o+o).join("").toUpperCase();else if(i.length===4){const o=i.split("").map(s=>s+s).join("").toUpperCase();e=o.substring(0,6),r=o.substring(6,8)}else if(i.length===6)e=i.toUpperCase();else if(i.length===8){const o=i.substring(0,2),s=i.substring(2,4),h=i.substring(4,6),l=i.substring(6,8);e=(o+s+h).toUpperCase(),r=l.toUpperCase()}}else if(t.startsWith("rgb")){const i=t.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*([\d.]+))?\)/);if(i){const o=Number.parseInt(i[1]).toString(16).padStart(2,"0").toUpperCase(),s=Number.parseInt(i[2]).toString(16).padStart(2,"0").toUpperCase(),h=Number.parseInt(i[3]).toString(16).padStart(2,"0").toUpperCase();e=o+s+h,i[4]&&(r=Math.round(Number.parseFloat(i[4])*255).toString(16).padStart(2,"0").toUpperCase())}}else{const i={white:"#FFFFFF",black:"#000000",red:"#FF0000",blue:"#0000FF",green:"#008000",transparent:"#00000000"}[t.toLowerCase()];return i?C(i):"#000000"}const n=`#${r}${e}`,a=M(n);return a?`@color/${a}`:n}const T={"#FFFF5F00":"color_orange_brand","#1AFF5F00":"color_orange_brand_10","#FF000000":"color_black_100","#CC000000":"color_black_80","#B3000000":"color_black_70","#99000000":"color_black_60","#80000000":"color_black_50","#66000000":"color_black_40","#4D000000":"color_black_30","#33000000":"color_black_20","#1A000000":"color_black_10","#14000000":"color_black_8","#0F000000":"color_black_6","#0A000000":"color_black_4","#08000000":"color_black_3","#00000000":"color_black_0","#FFFFFFFF":"color_white_100","#E6FFFFFF":"color_white_90","#CCFFFFFF":"color_white_80","#D9FFFFFF":"color_white_85","#99FFFFFF":"color_white_60","#66FFFFFF":"color_white_40","#80FFFFFF":"color_white_50","#4DFFFFFF":"color_white_30","#33FFFFFF":"color_white_20","#1AFFFFFF":"color_white_10","#14FFFFFF":"color_white_8","#08FFFFFF":"color_white_3","#0AFFFFFF":"color_white_4","#00FFFFFF":"color_white_0","#FFF5F5F5":"bg_f5f5f5","#E6000000":"bg_black_90","#FF141414":"bg_141414","#E6141414":"bg_141414_90","#FF527EB0":"color_link","#FFCE9B52":"color_ce9b52","#FF333333":"bg_seek_hint_black_v525","#FF999999":"color_999999","#FFCCCCCC":"color_CCCCCC","#FF1A1A1A":"color_1A1A1A","#FFFA6725":"color_FA6725","#FFFA6726":"color_FA6726"};function M(t){return T[t]?T[t]:null}function R(t){if(t["overflow-y"]==="scroll"||t["overflow-y"]==="auto")return"ScrollView";if(t["overflow-x"]==="scroll"||t["overflow-x"]==="auto")return"HorizontalScrollView";if(t["box-shadow"])return"androidx.cardview.widget.CardView";if(t["background-image"]&&t["background-image"].includes("url")||t["object-fit"])return"ImageView";if(t.display==="flex")return"LinearLayout";if(t["font-family"]||t.color||t["font-size"]||t["text-align"]||t["line-height"]||t["text-overflow"])return"TextView";const e=t.width||t.height,r=t.background||t["background-color"],n=t.padding||t.display;return e||r||n?"FrameLayout":"RelativeLayout"}function O(t,e){const r={};if(t.width){let o=t.width;o==="100%"?o="match_parent":o==="auto"?o="wrap_content":o=g(o,"dp"),r["android:layout_width"]=o}else r["android:layout_width"]="wrap_content";if(t.height){let o=t.height;o==="100%"?o="match_parent":o==="auto"?o="wrap_content":o=g(o,"dp"),r["android:layout_height"]=o}else r["android:layout_height"]="wrap_content";t["max-width"]&&(r["android:maxWidth"]=g(t["max-width"],"dp")),t["min-width"]&&(r["android:minWidth"]=g(t["min-width"],"dp")),t["max-height"]&&(r["android:maxHeight"]=g(t["max-height"],"dp")),t["min-height"]&&(r["android:minHeight"]=g(t["min-height"],"dp"));const n=e.includes("CardView"),a=n?"app:cardBackgroundColor":"android:background";let i=!1;if(t["background-color"])r[a]=C(t["background-color"]),i=!0;else if(t.background){if(t.background.startsWith("#")||t.background.startsWith("rgb"))r[a]=C(t.background),i=!0;else if(t.background.startsWith("var(")){const o=t.background.match(/var\(--([\w-]+)\)/);o&&(r[a]=`@drawable/${o[1]}`,i=!0)}}if(e==="TextView"){if(t.color&&(r["android:textColor"]=C(t.color)),t["font-size"]&&(r["android:textSize"]=g(t["font-size"],"sp")),t["font-weight"]&&(t["font-weight"]==="bold"||Number.parseInt(t["font-weight"])>=700)&&(r["android:textStyle"]="bold"),t["text-align"]){const o=t["text-align"];let s="";o==="center"?s="center_horizontal":o==="right"?s="end":o==="left"&&(s="start"),r["android:gravity"]=s}if(t["line-height"]){const o=t["line-height"].match(/^(-?[\d.]+)px$/),s=t["font-size"]?.match(/^(-?[\d.]+)px$/);if(o&&s){const h=Number.parseFloat(o[1]),l=Number.parseFloat(s[1]),u=h-l;u>0&&(r["android:lineSpacingExtra"]=`${u}sp`,r["android:translationY"]=`-${u/2}sp`)}}t["text-overflow"]==="ellipsis"&&(r["android:ellipsize"]="end",t["white-space"]==="nowrap"&&(r["android:maxLines"]="1"))}if(t.padding){const o=E("padding",t.padding);Object.assign(r,o)}if(t.margin){const o=E("margin",t.margin);Object.assign(r,o)}if(t.opacity&&(r["android:alpha"]=t.opacity),t["border-radius"]){const o=g(t["border-radius"],"dp");n?r["app:cardCornerRadius"]=o:(r["android:clipToOutline"]="true",i||(r["android:background"]="@drawable/bg_rounded"))}if(t["box-shadow"]&&(n?r["app:cardElevation"]="4dp":r["android:elevation"]="4dp"),e==="LinearLayout"&&(t["flex-direction"]==="column"?r["android:orientation"]="vertical":r["android:orientation"]="horizontal"),e==="ImageView"&&(r["android:src"]="@drawable/placeholder",t["object-fit"]&&(t["object-fit"]==="cover"?r["android:scaleType"]="centerCrop":t["object-fit"]==="contain"&&(r["android:scaleType"]="centerInside"))),e!=="TextView"&&(t["justify-content"]==="center"||t["align-items"]==="center")){let o="";if(e==="LinearLayout"){const s=r["android:orientation"]==="vertical";t["justify-content"]==="center"&&(o+=s?"center_vertical":"center_horizontal"),t["align-items"]==="center"&&(o+=(o?"|":"")+(s?"center_horizontal":"center_vertical"))}else t["justify-content"]==="center"&&(o+="center_horizontal"),t["align-items"]==="center"&&(o+=`${o?"|":""}center_vertical`);o&&(r["android:gravity"]=o)}if(t.position==="absolute"||t.top||t.left||t.right||t.bottom){const o=c=>{if(!c)return null;const p=c.match(/^(-?[\d.]+)px$/);return p?Number.parseFloat(p[1]):null},s=o(t.top),h=o(t.bottom),l=o(t.left),u=o(t.right),d=c=>{const p=c.transform||"";return p.includes("translateY(-50%)")||p.includes("translate(-50%, -50%)")||p.includes("translate3d(-50%, -50%")},m=c=>{const p=c.transform||"";return p.includes("translateX(-50%)")||p.includes("translate(-50%, -50%)")||p.includes("translate3d(-50%, -50%")};t.top==="50%"&&d(t)?r["android:layout_centerVertical"]="true":s!==null&&h!==null?Math.abs(s-h)<5?r["android:layout_centerVertical"]="true":s<h?(r["android:layout_alignParentTop"]="true",r["android:layout_marginTop"]=g(t.top,"dp")):(r["android:layout_alignParentBottom"]="true",r["android:layout_marginBottom"]=g(t.bottom,"dp")):s!==null?(r["android:layout_alignParentTop"]="true",r["android:layout_marginTop"]=g(t.top,"dp")):h!==null&&(r["android:layout_alignParentBottom"]="true",r["android:layout_marginBottom"]=g(t.bottom,"dp")),t.left==="50%"&&m(t)?r["android:layout_centerHorizontal"]="true":l!==null&&u!==null?Math.abs(l-u)<5?r["android:layout_centerHorizontal"]="true":l<u?(r["android:layout_alignParentStart"]="true",r["android:layout_marginStart"]=g(t.left,"dp")):(r["android:layout_alignParentEnd"]="true",r["android:layout_marginEnd"]=g(t.right,"dp")):l!==null?(r["android:layout_alignParentStart"]="true",r["android:layout_marginStart"]=g(t.left,"dp")):u!==null&&(r["android:layout_alignParentEnd"]="true",r["android:layout_marginEnd"]=g(t.right,"dp"))}return r}function V(t){const e=R(t),r=O(t,e);e==="TextView"?(r["android:text"]||(r["android:text"]="@string/some_text"),r["android:id"]="@+id/some_id",t["text-align"]==="center"&&!r["android:gravity"]?.includes("center_vertical")&&(r["android:gravity"]=`${r["android:gravity"]||""}|top`)):(r["android:id"]=`@+id/frame_${Math.floor(Math.random()*1e4)}`,r["xmlns:android"]="http://schemas.android.com/apk/res/android",e.includes("CardView")&&(r["xmlns:app"]="http://schemas.android.com/apk/res-auto"));const n=Object.keys(r).sort((a,i)=>{const o=s=>s.startsWith("xmlns:")?0:s==="android:id"?1:s==="android:layout_width"?2:s==="android:layout_height"?3:4;return o(a)-o(i)}).map(a=>{let i=r[a];return a==="android:gravity"&&(i.startsWith("|")&&(i=i.substring(1)),i.endsWith("|")&&(i=i.substring(0,i.length-1))),`${a}="${i}"`}).join(`
  `);return`<${e}
  ${n}
/>`}function v(t,e="dp"){if(!t)return"";if(t.endsWith("%"))return t;const r=t.match(/^(-?[\d.]+)px$/);return r?`${Number.parseFloat(r[1])}.${e}`:t}function A(t){return t.endsWith("dp")||t.endsWith("sp")?t.replace(/([0-9.]+)((dp)|(sp))/,"$1.$2"):t}function U(t){return t["overflow-y"]==="scroll"||t["overflow-y"]==="auto"?"Column":t["overflow-x"]==="scroll"||t["overflow-x"]==="auto"?"Row":t["box-shadow"]?"Card":t["background-image"]&&t["background-image"].includes("url")||t["object-fit"]?"Image":t.display==="flex"?t["flex-direction"]==="column"?"Column":"Row":t["font-family"]||t.color||t["font-size"]||t["text-align"]||t["line-height"]||t["text-overflow"]?"Text":"Box"}function S(t){if(!t)return"Color.Unspecified";if(t.startsWith("#")){let e=t.substring(1);if(e.length===3&&(e=e.split("").map(r=>r+r).join("")),e.length===4&&(e=e.split("").map(r=>r+r).join("")),e.length===6)return`Color(0xFF${e.toUpperCase()})`;if(e.length===8){const r=e.substring(0,2),n=e.substring(2,4),a=e.substring(4,6);return`Color(0x${(e.substring(6,8)+r+n+a).toUpperCase()})`}}if(t.startsWith("rgba")){const e=t.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*([\d.]+))?\)/);if(e){const r=Number.parseInt(e[1]),n=Number.parseInt(e[2]),a=Number.parseInt(e[3]),i=e[4]?Number.parseFloat(e[4]):1,o=Math.round(i*255),s=h=>h.toString(16).padStart(2,"0").toUpperCase();return`Color(0x${s(o)}${s(r)}${s(n)}${s(a)})`}}if(t.startsWith("rgb")){const e=t.match(/rgb\((\d+),\s*(\d+),\s*(\d+)\)/);if(e){const r=Number.parseInt(e[1]),n=Number.parseInt(e[2]),a=Number.parseInt(e[3]),i=o=>o.toString(16).padStart(2,"0").toUpperCase();return`Color(0xFF${i(r)}${i(n)}${i(a)})`}}return{white:"Color.White",black:"Color.Black",red:"Color.Red",blue:"Color.Blue",green:"Color.Green",transparent:"Color.Transparent",gray:"Color.Gray",yellow:"Color.Yellow",cyan:"Color.Cyan",magenta:"Color.Magenta",lightgray:"Color.LightGray",darkgray:"Color.DarkGray",darkgrey:"Color.DarkGray",lightgrey:"Color.LightGray",grey:"Color.Gray"}[t.toLowerCase()]||"Color.Black"}function D(t){const e=U(t),r=[],n=[];if(t.width&&(t.width==="100%"?r.push(".fillMaxWidth()"):t.width==="auto"?r.push(".wrapContentWidth()"):r.push(`.width(${v(t.width,"dp")})`)),t.height&&(t.height==="100%"?r.push(".fillMaxHeight()"):t.height==="auto"?r.push(".wrapContentHeight()"):r.push(`.height(${v(t.height,"dp")})`)),t["flex-grow"]&&t["flex-grow"]!=="0"&&r.push(`.weight(${t["flex-grow"]}f)`),t.margin){const l=E("margin",t.margin),u=[];l["android:layout_marginStart"]&&u.push(`start = ${A(l["android:layout_marginStart"])}`),l["android:layout_marginTop"]&&u.push(`top = ${A(l["android:layout_marginTop"])}`),l["android:layout_marginEnd"]&&u.push(`end = ${A(l["android:layout_marginEnd"])}`),l["android:layout_marginBottom"]&&u.push(`bottom = ${A(l["android:layout_marginBottom"])}`),l["android:layout_margin"]&&u.push(`${A(l["android:layout_margin"])}`),u.length>0&&r.push(`.padding(${u.join(", ")})`)}if(t["border-radius"]){const l=v(t["border-radius"],"dp");r.push(`.clip(RoundedCornerShape(${l}))`)}if(t["background-color"])r.push(`.background(${S(t["background-color"])})`);else if(t.background)if(t.background.startsWith("var(")){const l=t.background.match(/var\(--([\w-]+)\)/)?.[1];l&&r.push(`.paint(painterResource(id = R.drawable.${l}), contentScale = ContentScale.FillBounds)`)}else t.background.includes("url")||r.push(`.background(${S(t.background)})`);if(t.border){const l=t.border.match(/([\d.]+)px\s+\w+\s+(.*)/);if(l){const u=l[1],d=l[2],m=t["border-radius"]?`RoundedCornerShape(${v(t["border-radius"],"dp")})`:"RectangleShape";r.push(`.border(${u}.dp, ${S(d)}, ${m})`)}}if(t.padding){const l=E("padding",t.padding),u=[];l["android:paddingStart"]&&u.push(`start = ${A(l["android:paddingStart"])}`),l["android:paddingTop"]&&u.push(`top = ${A(l["android:paddingTop"])}`),l["android:paddingEnd"]&&u.push(`end = ${A(l["android:paddingEnd"])}`),l["android:paddingBottom"]&&u.push(`bottom = ${A(l["android:paddingBottom"])}`),l["android:padding"]&&u.push(`${A(l["android:padding"])}`),u.length>0&&r.push(`.padding(${u.join(", ")})`)}if(e==="Text"){if(n.push('text = "Some Text"'),t.color&&n.push(`color = ${S(t.color)}`),t["font-size"]&&n.push(`fontSize = ${v(t["font-size"],"sp")}`),t["line-height"]&&n.push(`lineHeight = ${v(t["line-height"],"sp")}`),t["letter-spacing"]&&n.push(`letterSpacing = ${v(t["letter-spacing"],"sp")}`),t["font-weight"]){const l=t["font-weight"];l==="bold"||Number.parseInt(l)>=700?n.push("fontWeight = FontWeight.Bold"):Number.parseInt(l)<400?n.push("fontWeight = FontWeight.Light"):Number.parseInt(l)===500&&n.push("fontWeight = FontWeight.Medium")}if(t["text-align"]){const l=t["text-align"];l==="center"?n.push("textAlign = TextAlign.Center"):l==="right"?n.push("textAlign = TextAlign.End"):l==="justify"&&n.push("textAlign = TextAlign.Justify")}t["text-overflow"]==="ellipsis"&&(n.push("overflow = TextOverflow.Ellipsis"),t["white-space"]==="nowrap"&&n.push("maxLines = 1"))}else e==="Image"?(n.push("painter = painterResource(id = R.drawable.placeholder)"),n.push("contentDescription = null"),t["object-fit"]&&(t["object-fit"]==="cover"?n.push("contentScale = ContentScale.Crop"):t["object-fit"]==="contain"&&n.push("contentScale = ContentScale.Fit"))):(e==="Column"||e==="Row")&&(e==="Column"?(t["justify-content"]==="center"?n.push("verticalArrangement = Arrangement.Center"):t["justify-content"]==="flex-end"?n.push("verticalArrangement = Arrangement.Bottom"):t["justify-content"]==="space-between"&&n.push("verticalArrangement = Arrangement.SpaceBetween"),t["align-items"]==="center"?n.push("horizontalAlignment = Alignment.CenterHorizontally"):t["align-items"]==="flex-end"&&n.push("horizontalAlignment = Alignment.End")):(t["justify-content"]==="center"?n.push("horizontalArrangement = Arrangement.Center"):t["justify-content"]==="flex-end"?n.push("horizontalArrangement = Arrangement.End"):t["justify-content"]==="space-between"&&n.push("horizontalArrangement = Arrangement.SpaceBetween"),t["align-items"]==="center"?n.push("verticalAlignment = Alignment.CenterVertically"):t["align-items"]==="flex-end"&&n.push("verticalAlignment = Alignment.Bottom")));let a="Modifier";r.length>0?a+=`
        ${r.join(`
        `)}`:a="Modifier",n.unshift(`modifier = ${a}`);const i=n.join(`,
    `),o=["Box","Column","Row","Card"].includes(e),s="    ";let h="";return o?h=`${e}(
${s}${i.replace(/\n/g,`
${s}`)}
${s}) {
${s}${s}// Content
${s}}`:h=`${e}(
${s}${i.replace(/\n/g,`
${s}`)}
${s})`,h}function j(t){return t.replace(/[^a-z0-9]/gi,"")}function B(t){const e=t;if(e.fills&&Array.isArray(e.fills)&&e.fills.length>0){for(const r of e.fills)if(r.visible!==!1&&r.type==="SOLID"&&typeof r.color=="string")return r.color}return null}function I(t){return t.layoutMode||"NONE"}function W(t,e=0){const r="  ".repeat(e);if(t.type==="TEXT")return`${r}<TextView
${r}  android:text="${t.characters}"
${r}  android:layout_width="wrap_content"
${r}  android:layout_height="wrap_content"
${r}/>`;if(["FRAME","GROUP","INSTANCE","COMPONENT"].includes(t.type)){const n=t,a=I(t);let i="FrameLayout",o="";a==="VERTICAL"?(i="LinearLayout",o+=`
${r}  android:orientation="vertical"`):a==="HORIZONTAL"&&(i="LinearLayout",o+=`
${r}  android:orientation="horizontal"`);const s=B(t);s&&(o+=`
${r}  android:background="${C(s)}"`);const h=(n.children||[]).map(d=>W(d,e+1)).join(`
`);let l=`<${i}
${r}  android:layout_width="match_parent"
${r}  android:layout_height="match_parent"${o}>`;t.type==="INSTANCE"||t.type==="COMPONENT"?l=`<!-- Component: ${t.name} -->
${r}<${i}
${r}  android:layout_width="wrap_content"
${r}  android:layout_height="wrap_content"${o}>`:a!=="NONE"&&(l=`<${i}
${r}  android:layout_width="wrap_content"
${r}  android:layout_height="wrap_content"${o}>`);let u=h;return u.trim()||(u=`${r}<!-- No children detected. If this is a Frame, please convert it to a Component to expose its structure. -->`),`${r}${l}
${u}
${r}</${i}>`}return`${r}<!-- Unknown Node: ${t.type} -->`}function G(t){return W(t,0)}function L(t,e=0){const r="    ".repeat(e);if(t.type==="TEXT")return`${r}Text(text = "${t.characters}")`;if(["FRAME","GROUP","INSTANCE","COMPONENT"].includes(t.type)){const n=t,a=I(t);let i="Box",o="";if(a==="VERTICAL"?i="Column":a==="HORIZONTAL"&&(i="Row"),t.type==="INSTANCE"){const d=j(t.name);d&&(i=d),a==="VERTICAL"?i="Column":a==="HORIZONTAL"?i="Row":i="Box"}const s=B(t);s&&(o=`
${r}    .background(${S(s)})`);const h=(n.children||[]).map(d=>L(d,e+1)).join(`
`);let l="";o&&(l=`modifier = Modifier${o}`);let u=h;return u.trim()||(u=`${r}// No children detected. If this is a Frame, please convert it to a Component to expose its structure.`),u.trim()?l?`${r}${i}(
${r}    ${l}
${r}) {
${u}
${r}}`:`${r}${i} {
${u}
${r}}`:l?`${r}${i}(${l})`:`${r}${i}()`}return`${r}// Unknown Node: ${t.type} -->`}function P(t){return`@Composable
fun ${j(t.name)||"MyComponent"}() {
${L(t,1)}
}`}function z(t){if(!t||!t.includes("<svg"))return"";if(typeof DOMParser>"u")return"<!-- Error: DOMParser not available. This plugin runs in browser environment. -->";const e=new DOMParser().parseFromString(t,"image/svg+xml"),r=e.querySelector("svg");if(!r)return"<!-- Error: Invalid SVG content -->";const n=r.getAttribute("viewBox");let a="24.0",i="24.0";if(n){const d=n.split(/[\s,]+/).filter(Boolean);d.length===4&&(a=d[2],i=d[3])}const o=r.getAttribute("width")||`${Number.parseFloat(a)}dp`,s=r.getAttribute("height")||`${Number.parseFloat(i)}dp`;function h(d,m){const c="  ".repeat(m),p=d.tagName.toLowerCase();if(p==="g"){const $=[],f=d.getAttribute("transform");if(f){const w=f.match(/translate\(([^,]+)[,\s]([^)]+)\)/);w&&($.push(`android:translateX="${w[1].trim()}"`),$.push(`android:translateY="${w[2].trim()}"`));const x=f.match(/scale\(([^,]+)(?:[,\s]([^)]+))?\)/);x&&($.push(`android:scaleX="${x[1].trim()}"`),$.push(`android:scaleY="${(x[2]||x[1]).trim()}"`));const b=f.match(/rotate\(([^)]+)\)/);b&&$.push(`android:rotation="${b[1].trim()}"`)}const y=Array.from(d.children).map(w=>h(w,m+1)).filter(Boolean).join(`
`);if(!y)return"";const k=$.length?`
${$.map(w=>`${c}  ${w}`).join(`
`)}`:"";return`${c}<group${k}>
${y}
${c}</group>`}if(["path","rect","circle","ellipse","line","polyline","polygon"].includes(p)){let $="";if(p==="path")$=d.getAttribute("d")||"";else if(p==="rect"){const b=Number.parseFloat(d.getAttribute("x")||"0"),F=Number.parseFloat(d.getAttribute("y")||"0"),_=Number.parseFloat(d.getAttribute("width")||"0"),N=Number.parseFloat(d.getAttribute("height")||"0");$=`M ${b},${F} h ${_} v ${N} h -${_} z`}else if(p==="circle"){const b=Number.parseFloat(d.getAttribute("cx")||"0"),F=Number.parseFloat(d.getAttribute("cy")||"0"),_=Number.parseFloat(d.getAttribute("r")||"0");$=`M ${b-_},${F} a ${_},${_} 0 1,0 ${_*2},0 a ${_},${_} 0 1,0 -${_*2},0`}else if(p==="line"){const b=d.getAttribute("x1")||"0",F=d.getAttribute("y1")||"0",_=d.getAttribute("x2")||"0",N=d.getAttribute("y2")||"0";$=`M ${b},${F} L ${_},${N}`}if(!$)return"";const f=[];f.push(`android:pathData="${$}"`);const y=d.getAttribute("fill");if(y&&y!=="none")if(y.startsWith("url(#")){const b=y.substring(5,y.length-1),F=e.querySelector(`defs #${b}`);if(F&&(F.tagName==="linearGradient"||F.tagName==="radialGradient")){const _=l(F,m+1);return`${c}<path
${f.map(N=>`${c}  ${N}`).join(`
`)}>
${_}
${c}</path>`}}else f.push(`android:fillColor="${C(y)}"`);else!y&&p!=="line"&&f.push('android:fillColor="#FF000000"');const k=d.getAttribute("stroke");if(k&&k!=="none"){f.push(`android:strokeColor="${C(k)}"`),f.push(`android:strokeWidth="${d.getAttribute("stroke-width")||"1"}"`);const b=d.getAttribute("stroke-linecap");b&&f.push(`android:strokeLineCap="${b}"`);const F=d.getAttribute("stroke-linejoin");F&&f.push(`android:strokeLineJoin="${F}"`)}const w=d.getAttribute("fill-opacity");w&&f.push(`android:fillAlpha="${w}"`);const x=d.getAttribute("stroke-opacity");return x&&f.push(`android:strokeAlpha="${x}"`),`${c}<path
${f.map(b=>`${c}  ${b}`).join(`
`)}
${c}/>`}return""}function l(d,m){const c="  ".repeat(m),p=d.tagName==="linearGradient"?"linear":"radial",$=d.getAttribute("x1")||"0",f=d.getAttribute("y1")||"0",y=d.getAttribute("x2")||"0",k=d.getAttribute("y2")||"0",w=Array.from(d.querySelectorAll("stop")).map(x=>{const b=x.getAttribute("offset")||"0",F=C(x.getAttribute("stop-color")||"#000000");return`${c}  <item android:offset="${b}" android:color="${F}" />`}).join(`
`);return`${c}<aapt:attr name="android:fillColor">
${c}  <gradient
${c}    android:type="${p}"
${c}    android:startX="${$}"
${c}    android:startY="${f}"
${c}    android:endX="${y}"
${c}    android:endY="${k}">
${w}
${c}  </gradient>
${c}</aapt:attr>`}const u=Array.from(r.children).map(d=>h(d,1)).filter(Boolean).join(`
`);return`<vector xmlns:android="http://schemas.android.com/apk/res/android"
  xmlns:aapt="http://schemas.android.com/aapt"
  android:width="${o.replace("px","dp")}"
  android:height="${s.replace("px","dp")}"
  android:viewportWidth="${a}"
  android:viewportHeight="${i}">
${u}
</vector>`}const H={name:"android-xml-style",code:{css:{title:"delete-CSS",lang:"css",transform(){return""}},js:{title:"delete-JavaScript",lang:"js",transform(){return""}},"android-xml":{title:"Android XML",lang:"xml",transform({style:t}){return V(t)},transformComponent({component:t}){return G(t)}},"android-compose":{title:"Jetpack Compose",lang:"kotlin",transform({style:t}){return D(t)},transformComponent({component:t}){return P(t)}},"c-css":!1,drawable:{title:"Android Drawable",lang:"xml",transform(t){const{code:e,style:r}=t;let n=e||"",a="";if(n.includes("%3C")||n.includes("%3c"))try{const d=decodeURIComponent(n);d.includes("<svg")&&(n=d)}catch{}if(n.includes("<svg")||n.includes("http://www.w3.org/2000/svg"))return z(n);const i=r["background-image"]||r.background;if(i&&i.includes("url(")){const d=i.match(/url\(['"]?(.*?)['"]?\)/);if(d&&d[1]){let m=d[1];if(m.startsWith("data:image/svg+xml"))if(m.includes("base64,"))try{const c=m.split("base64,")[1];n=atob(c)}catch{a+="<!-- Base64 SVG \u89E3\u7801\u5931\u8D25 -->"}else{m=m.replace(/data:image\/svg\+xml.*?,/,"");try{n=decodeURIComponent(m)}catch{}}}}if(n&&n.includes("<svg"))return z(n);const o=!!r["border-radius"],s=!!r.border||!!r["border-width"],h=!!r["background-color"]||r.background&&!r.background.includes("url")||!!r.fill;if(o||s||h){const d=[];d.push('<?xml version="1.0" encoding="utf-8"?>'),d.push('<shape xmlns:android="http://schemas.android.com/apk/res/android">');const m=r["background-color"]||r.background||r.fill;if(m&&!m.includes("url"))if(m.startsWith("var(")){const c=m.match(/var\(--([\w-]+)\)/)?.[1]||"unknown";d.push(`  <solid android:color="@color/${c}" />`)}else d.push(`  <solid android:color="${C(m)}" />`);if(r["border-radius"]){const c=g(r["border-radius"],"dp");d.push(`  <corners android:radius="${c}" />`)}if(r.border||r["border-width"]){const c=g(r["border-width"]||"1px","dp");let p="#000000";if(r["border-color"])p=C(r["border-color"]);else if(r.border){const $=r.border.split(" ").find(f=>f.startsWith("#")||f.startsWith("rgb"));$&&(p=C($))}d.push(`  <stroke android:width="${c}" android:color="${p}" />`)}if(r.width&&r.height){const c=g(r.width,"dp"),p=g(r.height,"dp");d.push(`  <size android:width="${c}" android:height="${p}" />`)}return d.push("</shape>"),d.join(`
`)}const l=Object.keys(t).join(",");a+=`<!-- Debug: keys=[${l}], code.length=${e?.length}, style.keys=[${Object.keys(r).join(",")}] -->`;const u=e?e.substring(0,200).replace(/\n/g," "):"null";return`${a}
<!--
\u672A\u68C0\u6D4B\u5230 SVG \u6216 Shape \u5185\u5BB9\u3002
1. \u8BF7\u786E\u4FDD\u60A8\u9009\u4E2D\u4E86\u4E00\u4E2A Vector \u8282\u70B9\u6216\u5305\u542B SVG \u5185\u5BB9\u7684 Frame\u3002
2. \u8BF7\u786E\u8BA4 Tempad \u662F\u5426\u4E3A\u8BE5\u9009\u4E2D\u9879\u751F\u6210\u4E86 SVG \u4EE3\u7801\u3002
\u5F53\u524D\u4EE3\u7801\u9884\u89C8\uFF1A${u}
-->`},transformComponent(){return""}}}};export{H as default};
