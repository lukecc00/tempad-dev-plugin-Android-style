function L(t){return t}function u(t,r="dp"){if(!t)return"";if(t.endsWith("%"))return t;const e=t.match(/^(-?[\d.]+)px$/);return e?`${Number.parseFloat(e[1])}${r}`:t}function h(t,r){const e=r.split(/\s+/).filter(Boolean),o={},a={};return e.length===1?a.top=a.right=a.bottom=a.left=e[0]:e.length===2?(a.top=a.bottom=e[0],a.right=a.left=e[1]):e.length===3?(a.top=e[0],a.right=a.left=e[1],a.bottom=e[2]):e.length===4&&(a.top=e[0],a.right=e[1],a.bottom=e[2],a.left=e[3]),e.length===1?(t==="padding"&&(o["android:padding"]=u(e[0],"dp")),t==="margin"&&(o["android:layout_margin"]=u(e[0],"dp"))):(a.top&&(o[t==="padding"?"android:paddingTop":"android:layout_marginTop"]=u(a.top,"dp")),a.bottom&&(o[t==="padding"?"android:paddingBottom":"android:layout_marginBottom"]=u(a.bottom,"dp")),a.left&&(o[t==="padding"?"android:paddingStart":"android:layout_marginStart"]=u(a.left,"dp")),a.right&&(o[t==="padding"?"android:paddingEnd":"android:layout_marginEnd"]=u(a.right,"dp"))),o}function f(t){if(!t)return"";if(t.startsWith("#")){let r=t.substring(1);if(r.length===3&&(r=r.split("").map(e=>e+e).join("")),r.length===4&&(r=r.split("").map(e=>e+e).join("")),r.length===8){const e=r.substring(0,2),o=r.substring(2,4),a=r.substring(4,6);return`#${r.substring(6,8)}${e}${o}${a}`.toUpperCase()}return t.toUpperCase()}if(t.startsWith("rgb")){const r=t.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*([\d.]+))?\)/);if(r){const e=Number.parseInt(r[1]),o=Number.parseInt(r[2]),a=Number.parseInt(r[3]),n=r[4]?Number.parseFloat(r[4]):1,l=Math.round(n*255),d=p=>p.toString(16).padStart(2,"0").toUpperCase();return l===255?`#${d(e)}${d(o)}${d(a)}`:`#${d(l)}${d(e)}${d(o)}${d(a)}`}}return{white:"#FFFFFF",black:"#000000",red:"#FF0000",blue:"#0000FF",green:"#008000",transparent:"#00000000",gray:"#808080",yellow:"#FFFF00",cyan:"#00FFFF",magenta:"#FF00FF",lightgray:"#D3D3D3",darkgray:"#A9A9A9"}[t.toLowerCase()]||"#000000"}function A(t){if(t["overflow-y"]==="scroll"||t["overflow-y"]==="auto")return"ScrollView";if(t["overflow-x"]==="scroll"||t["overflow-x"]==="auto")return"HorizontalScrollView";if(t["box-shadow"])return"androidx.cardview.widget.CardView";if(t["background-image"]&&t["background-image"].includes("url")||t["object-fit"])return"ImageView";if(t.display==="flex")return"LinearLayout";if(t["font-family"]||t.color||t["font-size"]||t["text-align"]||t["line-height"]||t["text-overflow"])return"TextView";const r=t.width||t.height,e=t.background||t["background-color"],o=t.padding||t.display;return r&&e&&!o?"View":"RelativeLayout"}function v(t,r){const e={};if(t.width){let n=t.width;n==="100%"?n="match_parent":n==="auto"?n="wrap_content":n=u(n,"dp"),e["android:layout_width"]=n}else e["android:layout_width"]="wrap_content";if(t.height){let n=t.height;n==="100%"?n="match_parent":n==="auto"?n="wrap_content":n=u(n,"dp"),e["android:layout_height"]=n}else e["android:layout_height"]="wrap_content";t["max-width"]&&(e["android:maxWidth"]=u(t["max-width"],"dp")),t["min-width"]&&(e["android:minWidth"]=u(t["min-width"],"dp")),t["max-height"]&&(e["android:maxHeight"]=u(t["max-height"],"dp")),t["min-height"]&&(e["android:minHeight"]=u(t["min-height"],"dp"));const o=r.includes("CardView"),a=o?"app:cardBackgroundColor":"android:background";if(t["background-color"])e[a]=f(t["background-color"]);else if(t.background&&t.background.startsWith("var(")){const n=t.background.match(/var\(--([\w-]+)\)/);n?e[a]=`@drawable/${n[1]}`:e[a]="@drawable/bg_placeholder"}if(r==="TextView"){if(t.color&&(e["android:textColor"]=f(t.color)),t["font-size"]&&(e["android:textSize"]=u(t["font-size"],"sp")),t["font-weight"]&&(t["font-weight"]==="bold"||Number.parseInt(t["font-weight"])>=700)&&(e["android:textStyle"]="bold"),t["text-align"]){const n=t["text-align"];let l="";n==="center"?l="center_horizontal":n==="right"?l="end":n==="left"&&(l="start"),e["android:gravity"]=l}if(t["line-height"]){const n=t["line-height"].match(/^(-?[\d.]+)px$/),l=t["font-size"]?.match(/^(-?[\d.]+)px$/);if(n&&l){const d=Number.parseFloat(n[1]),p=Number.parseFloat(l[1]),i=d-p;i>0&&(e["android:lineSpacingExtra"]=`${i}sp`,e["android:translationY"]=`-${i/2}sp`)}}t["text-overflow"]==="ellipsis"&&(e["android:ellipsize"]="end",t["white-space"]==="nowrap"&&(e["android:maxLines"]="1"))}if(t.padding){const n=h("padding",t.padding);Object.assign(e,n)}if(t.margin){const n=h("margin",t.margin);Object.assign(e,n)}if(t.opacity&&(e["android:alpha"]=t.opacity),t["border-radius"]){const n=u(t["border-radius"],"dp");o?e["app:cardCornerRadius"]=n:(e["android:clipToOutline"]="true",e["android:background"]||(e["android:background"]="@drawable/bg_rounded"))}if(t["box-shadow"]&&(o?e["app:cardElevation"]="4dp":e["android:elevation"]="4dp"),r==="LinearLayout"&&(t["flex-direction"]==="column"?e["android:orientation"]="vertical":e["android:orientation"]="horizontal"),r==="ImageView"&&(e["android:src"]="@drawable/placeholder",t["object-fit"]&&(t["object-fit"]==="cover"?e["android:scaleType"]="centerCrop":t["object-fit"]==="contain"&&(e["android:scaleType"]="centerInside"))),r!=="TextView"&&(t["justify-content"]==="center"||t["align-items"]==="center")){let n="";if(r==="LinearLayout"){const l=e["android:orientation"]==="vertical";t["justify-content"]==="center"&&(n+=l?"center_vertical":"center_horizontal"),t["align-items"]==="center"&&(n+=(n?"|":"")+(l?"center_horizontal":"center_vertical"))}else t["justify-content"]==="center"&&(n+="center_horizontal"),t["align-items"]==="center"&&(n+=`${n?"|":""}center_vertical`);n&&(e["android:gravity"]=n)}return e}function N(t){const r=A(t),e=v(t,r);r==="TextView"?(e["android:text"]||(e["android:text"]="@string/some_text"),e["android:id"]="@+id/some_id",t["text-align"]==="center"&&!e["android:gravity"]?.includes("center_vertical")&&(e["android:gravity"]=`${e["android:gravity"]||""}|top`)):(e["android:id"]=`@+id/view_${Math.floor(Math.random()*1e4)}`,e["xmlns:android"]="http://schemas.android.com/apk/res/android",r.includes("CardView")&&(e["xmlns:app"]="http://schemas.android.com/apk/res-auto"));const o=Object.keys(e).sort((a,n)=>{const l=d=>d.startsWith("xmlns:")?0:d==="android:id"?1:d==="android:layout_width"?2:d==="android:layout_height"?3:4;return l(a)-l(n)}).map(a=>{let n=e[a];return a==="android:gravity"&&(n.startsWith("|")&&(n=n.substring(1)),n.endsWith("|")&&(n=n.substring(0,n.length-1))),`${a}="${n}"`}).join(`
  `);return`<${r}
  ${o}
/>`}function g(t,r="dp"){if(!t)return"";if(t.endsWith("%"))return t;const e=t.match(/^(-?[\d.]+)px$/);return e?`${Number.parseFloat(e[1])}.${r}`:t}function c(t){return t.endsWith("dp")||t.endsWith("sp")?t.replace(/([0-9.]+)((dp)|(sp))/,"$1.$2"):t}function T(t){return t["overflow-y"]==="scroll"||t["overflow-y"]==="auto"?"Column":t["overflow-x"]==="scroll"||t["overflow-x"]==="auto"?"Row":t["box-shadow"]?"Card":t["background-image"]&&t["background-image"].includes("url")||t["object-fit"]?"Image":t.display==="flex"?t["flex-direction"]==="column"?"Column":"Row":t["font-family"]||t.color||t["font-size"]||t["text-align"]||t["line-height"]||t["text-overflow"]?"Text":"Box"}function m(t){if(!t)return"Color.Unspecified";if(t.startsWith("#")){let r=t.substring(1);if(r.length===3&&(r=r.split("").map(e=>e+e).join("")),r.length===4&&(r=r.split("").map(e=>e+e).join("")),r.length===6)return`Color(0xFF${r.toUpperCase()})`;if(r.length===8){const e=r.substring(0,2),o=r.substring(2,4),a=r.substring(4,6);return`Color(0x${(r.substring(6,8)+e+o+a).toUpperCase()})`}}if(t.startsWith("rgba")){const r=t.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*([\d.]+))?\)/);if(r){const e=Number.parseInt(r[1]),o=Number.parseInt(r[2]),a=Number.parseInt(r[3]),n=r[4]?Number.parseFloat(r[4]):1,l=Math.round(n*255),d=p=>p.toString(16).padStart(2,"0").toUpperCase();return`Color(0x${d(l)}${d(e)}${d(o)}${d(a)})`}}if(t.startsWith("rgb")){const r=t.match(/rgb\((\d+),\s*(\d+),\s*(\d+)\)/);if(r){const e=Number.parseInt(r[1]),o=Number.parseInt(r[2]),a=Number.parseInt(r[3]),n=l=>l.toString(16).padStart(2,"0").toUpperCase();return`Color(0xFF${n(e)}${n(o)}${n(a)})`}}return{white:"Color.White",black:"Color.Black",red:"Color.Red",blue:"Color.Blue",green:"Color.Green",transparent:"Color.Transparent",gray:"Color.Gray",yellow:"Color.Yellow",cyan:"Color.Cyan",magenta:"Color.Magenta",lightgray:"Color.LightGray",darkgray:"Color.DarkGray",darkgrey:"Color.DarkGray",lightgrey:"Color.LightGray",grey:"Color.Gray"}[t.toLowerCase()]||"Color.Black"}function F(t){const r=T(t),e=[],o=[];if(t.width&&(t.width==="100%"?e.push(".fillMaxWidth()"):t.width==="auto"?e.push(".wrapContentWidth()"):e.push(`.width(${g(t.width,"dp")})`)),t.height&&(t.height==="100%"?e.push(".fillMaxHeight()"):t.height==="auto"?e.push(".wrapContentHeight()"):e.push(`.height(${g(t.height,"dp")})`)),t["flex-grow"]&&t["flex-grow"]!=="0"&&e.push(`.weight(${t["flex-grow"]}f)`),t.margin){const i=h("margin",t.margin),s=[];i["android:layout_marginStart"]&&s.push(`start = ${c(i["android:layout_marginStart"])}`),i["android:layout_marginTop"]&&s.push(`top = ${c(i["android:layout_marginTop"])}`),i["android:layout_marginEnd"]&&s.push(`end = ${c(i["android:layout_marginEnd"])}`),i["android:layout_marginBottom"]&&s.push(`bottom = ${c(i["android:layout_marginBottom"])}`),i["android:layout_margin"]&&s.push(`${c(i["android:layout_margin"])}`),s.length>0&&e.push(`.padding(${s.join(", ")})`)}if(t["border-radius"]){const i=g(t["border-radius"],"dp");e.push(`.clip(RoundedCornerShape(${i}))`)}if(t["background-color"]&&e.push(`.background(${m(t["background-color"])})`),t.border){const i=t.border.match(/([\d.]+)px\s+\w+\s+(.*)/);if(i){const s=i[1],C=i[2],_=t["border-radius"]?`RoundedCornerShape(${g(t["border-radius"],"dp")})`:"RectangleShape";e.push(`.border(${s}.dp, ${m(C)}, ${_})`)}}if(t.padding){const i=h("padding",t.padding),s=[];i["android:paddingStart"]&&s.push(`start = ${c(i["android:paddingStart"])}`),i["android:paddingTop"]&&s.push(`top = ${c(i["android:paddingTop"])}`),i["android:paddingEnd"]&&s.push(`end = ${c(i["android:paddingEnd"])}`),i["android:paddingBottom"]&&s.push(`bottom = ${c(i["android:paddingBottom"])}`),i["android:padding"]&&s.push(`${c(i["android:padding"])}`),s.length>0&&e.push(`.padding(${s.join(", ")})`)}if(r==="Text"){if(o.push('text = "Some Text"'),t.color&&o.push(`color = ${m(t.color)}`),t["font-size"]&&o.push(`fontSize = ${g(t["font-size"],"sp")}`),t["line-height"]&&o.push(`lineHeight = ${g(t["line-height"],"sp")}`),t["letter-spacing"]&&o.push(`letterSpacing = ${g(t["letter-spacing"],"sp")}`),t["font-weight"]){const i=t["font-weight"];i==="bold"||Number.parseInt(i)>=700?o.push("fontWeight = FontWeight.Bold"):Number.parseInt(i)<400?o.push("fontWeight = FontWeight.Light"):Number.parseInt(i)===500&&o.push("fontWeight = FontWeight.Medium")}if(t["text-align"]){const i=t["text-align"];i==="center"?o.push("textAlign = TextAlign.Center"):i==="right"?o.push("textAlign = TextAlign.End"):i==="justify"&&o.push("textAlign = TextAlign.Justify")}t["text-overflow"]==="ellipsis"&&(o.push("overflow = TextOverflow.Ellipsis"),t["white-space"]==="nowrap"&&o.push("maxLines = 1"))}else r==="Image"?(o.push("painter = painterResource(id = R.drawable.placeholder)"),o.push("contentDescription = null"),t["object-fit"]&&(t["object-fit"]==="cover"?o.push("contentScale = ContentScale.Crop"):t["object-fit"]==="contain"&&o.push("contentScale = ContentScale.Fit"))):(r==="Column"||r==="Row")&&(r==="Column"?(t["justify-content"]==="center"?o.push("verticalArrangement = Arrangement.Center"):t["justify-content"]==="flex-end"?o.push("verticalArrangement = Arrangement.Bottom"):t["justify-content"]==="space-between"&&o.push("verticalArrangement = Arrangement.SpaceBetween"),t["align-items"]==="center"?o.push("horizontalAlignment = Alignment.CenterHorizontally"):t["align-items"]==="flex-end"&&o.push("horizontalAlignment = Alignment.End")):(t["justify-content"]==="center"?o.push("horizontalArrangement = Arrangement.Center"):t["justify-content"]==="flex-end"?o.push("horizontalArrangement = Arrangement.End"):t["justify-content"]==="space-between"&&o.push("horizontalArrangement = Arrangement.SpaceBetween"),t["align-items"]==="center"?o.push("verticalAlignment = Alignment.CenterVertically"):t["align-items"]==="flex-end"&&o.push("verticalAlignment = Alignment.Bottom")));let a="Modifier";e.length>0?a+=`
        ${e.join(`
        `)}`:a="Modifier",o.unshift(`modifier = ${a}`);const n=o.join(`,
    `),l=["Box","Column","Row","Card"].includes(r),d="    ";let p="";return l?p=`${r}(
${d}${n.replace(/\n/g,`
${d}`)}
${d}) {
${d}${d}// Content
${d}}`:p=`${r}(
${d}${n.replace(/\n/g,`
${d}`)}
${d})`,p}function $(t){return t.replace(/[^a-z0-9]/gi,"")}function y(t){const r=t;if(r.fills&&Array.isArray(r.fills)&&r.fills.length>0){for(const e of r.fills)if(e.visible!==!1&&e.type==="SOLID"&&typeof e.color=="string")return e.color}return null}function b(t){return t.layoutMode||"NONE"}function j(t){const r=Object.keys(t).join(", ");return`<!-- Debug Info: Type=${t.type}, Name=${t.name}, Keys=[${r}] -->`}function k(t){const r=Object.keys(t).join(", ");return`// Debug Info: Type=${t.type}, Name=${t.name}, Keys=[${r}]`}function w(t,r=0){const e="  ".repeat(r);if(t.type==="TEXT")return`${e}<TextView
${e}  android:text="${t.characters}"
${e}  android:layout_width="wrap_content"
${e}  android:layout_height="wrap_content"
${e}/>`;if(["FRAME","GROUP","INSTANCE","COMPONENT"].includes(t.type)){const o=t,a=b(t);let n="FrameLayout",l="";a==="VERTICAL"?(n="LinearLayout",l+=`
${e}  android:orientation="vertical"`):a==="HORIZONTAL"&&(n="LinearLayout",l+=`
${e}  android:orientation="horizontal"`);const d=y(t);d&&(l+=`
${e}  android:background="${f(d)}"`);const p=(o.children||[]).map(s=>w(s,r+1)).join(`
`);let i=`<${n}
${e}  android:layout_width="match_parent"
${e}  android:layout_height="match_parent"${l}>`;return t.type==="INSTANCE"||t.type==="COMPONENT"?i=`<!-- Component: ${t.name} -->
${e}<${n}
${e}  android:layout_width="wrap_content"
${e}  android:layout_height="wrap_content"${l}>`:a!=="NONE"&&(i=`<${n}
${e}  android:layout_width="wrap_content"
${e}  android:layout_height="wrap_content"${l}>`),`${e}${i}
${p}
${e}</${n}>`}return`${e}<!-- Unknown Node: ${t.type} -->`}function S(t){return`${j(t)}
${w(t,0)}`}function x(t,r=0){const e="    ".repeat(r);if(t.type==="TEXT")return`${e}Text(text = "${t.characters}")`;if(["FRAME","GROUP","INSTANCE","COMPONENT"].includes(t.type)){const o=t,a=b(t);let n="Box",l="";if(a==="VERTICAL"?n="Column":a==="HORIZONTAL"&&(n="Row"),t.type==="INSTANCE"){const s=$(t.name);s&&(n=s),a==="VERTICAL"?n="Column":a==="HORIZONTAL"?n="Row":n="Box"}const d=y(t);d&&(l=`
${e}    .background(${m(d)})`);const p=(o.children||[]).map(s=>x(s,r+1)).join(`
`);let i="";return l&&(i=`modifier = Modifier${l}`),p.trim()?i?`${e}${n}(
${e}    ${i}
${e}) {
${p}
${e}}`:`${e}${n} {
${p}
${e}}`:i?`${e}${n}(${i})`:`${e}${n}()`}return`${e}// Unknown Node: ${t.type}`}function I(t){return`${k(t)}
@Composable
fun ${$(t.name)||"MyComponent"}() {
${x(t,1)}
}`}const E={name:"android-xml-style",code:{css:{title:"delete-CSS",lang:"css",transform(){return""}},js:{title:"delete-JavaScript",lang:"js",transform(){return""}},"android-xml":{title:"Android XML (Style)",lang:"xml",transform({style:t}){return N(t)}},"android-xml-tree":{title:"Android XML (Component)",lang:"xml",transformComponent({component:t}){return S(t)}},"android-compose":{title:"Jetpack Compose (Style)",lang:"kotlin",transform({style:t}){return F(t)}},"android-compose-tree":{title:"Jetpack Compose (Component)",lang:"kotlin",transformComponent({component:t}){return I(t)}},"c-css":{title:"\u539F\u59CB\u6837\u5F0F",lang:"css",transform({style:t}){return Object.entries(t).map(([r,e])=>`${r}: ${e};`).join(`
`)}}}};export{E as default};
