function L(t){return t}function u(t,r="dp"){if(!t)return"";if(t.endsWith("%"))return t;const e=t.match(/^(-?[\d.]+)px$/);return e?`${Number.parseFloat(e[1])}${r}`:t}function m(t,r){const e=r.split(/\s+/).filter(Boolean),n={},a={};return e.length===1?a.top=a.right=a.bottom=a.left=e[0]:e.length===2?(a.top=a.bottom=e[0],a.right=a.left=e[1]):e.length===3?(a.top=e[0],a.right=a.left=e[1],a.bottom=e[2]):e.length===4&&(a.top=e[0],a.right=e[1],a.bottom=e[2],a.left=e[3]),e.length===1?(t==="padding"&&(n["android:padding"]=u(e[0],"dp")),t==="margin"&&(n["android:layout_margin"]=u(e[0],"dp"))):(a.top&&(n[t==="padding"?"android:paddingTop":"android:layout_marginTop"]=u(a.top,"dp")),a.bottom&&(n[t==="padding"?"android:paddingBottom":"android:layout_marginBottom"]=u(a.bottom,"dp")),a.left&&(n[t==="padding"?"android:paddingStart":"android:layout_marginStart"]=u(a.left,"dp")),a.right&&(n[t==="padding"?"android:paddingEnd":"android:layout_marginEnd"]=u(a.right,"dp"))),n}function f(t){if(!t)return"";if(t.startsWith("#")){let r=t.substring(1);if(r.length===3&&(r=r.split("").map(e=>e+e).join("")),r.length===4&&(r=r.split("").map(e=>e+e).join("")),r.length===8){const e=r.substring(0,2),n=r.substring(2,4),a=r.substring(4,6);return`#${r.substring(6,8)}${e}${n}${a}`.toUpperCase()}return t.toUpperCase()}if(t.startsWith("rgb")){const r=t.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*([\d.]+))?\)/);if(r){const e=Number.parseInt(r[1]),n=Number.parseInt(r[2]),a=Number.parseInt(r[3]),d=r[4]?Number.parseFloat(r[4]):1,o=Math.round(d*255),l=p=>p.toString(16).padStart(2,"0").toUpperCase();return o===255?`#${l(e)}${l(n)}${l(a)}`:`#${l(o)}${l(e)}${l(n)}${l(a)}`}}return{white:"#FFFFFF",black:"#000000",red:"#FF0000",blue:"#0000FF",green:"#008000",transparent:"#00000000",gray:"#808080",yellow:"#FFFF00",cyan:"#00FFFF",magenta:"#FF00FF",lightgray:"#D3D3D3",darkgray:"#A9A9A9"}[t.toLowerCase()]||"#000000"}function N(t){if(t["overflow-y"]==="scroll"||t["overflow-y"]==="auto")return"ScrollView";if(t["overflow-x"]==="scroll"||t["overflow-x"]==="auto")return"HorizontalScrollView";if(t["box-shadow"])return"androidx.cardview.widget.CardView";if(t["background-image"]&&t["background-image"].includes("url")||t["object-fit"])return"ImageView";if(t.display==="flex")return"LinearLayout";if(t["font-family"]||t.color||t["font-size"]||t["text-align"]||t["line-height"]||t["text-overflow"])return"TextView";const r=t.width||t.height,e=t.background||t["background-color"],n=t.padding||t.display;return r||e||n?"FrameLayout":"RelativeLayout"}function T(t,r){const e={};if(t.width){let o=t.width;o==="100%"?o="match_parent":o==="auto"?o="wrap_content":o=u(o,"dp"),e["android:layout_width"]=o}else e["android:layout_width"]="wrap_content";if(t.height){let o=t.height;o==="100%"?o="match_parent":o==="auto"?o="wrap_content":o=u(o,"dp"),e["android:layout_height"]=o}else e["android:layout_height"]="wrap_content";t["max-width"]&&(e["android:maxWidth"]=u(t["max-width"],"dp")),t["min-width"]&&(e["android:minWidth"]=u(t["min-width"],"dp")),t["max-height"]&&(e["android:maxHeight"]=u(t["max-height"],"dp")),t["min-height"]&&(e["android:minHeight"]=u(t["min-height"],"dp"));const n=r.includes("CardView"),a=n?"app:cardBackgroundColor":"android:background";let d=!1;if(t["background-color"])e[a]=f(t["background-color"]),d=!0;else if(t.background){if(t.background.startsWith("#")||t.background.startsWith("rgb"))e[a]=f(t.background),d=!0;else if(t.background.startsWith("var(")){const o=t.background.match(/var\(--([\w-]+)\)/);o&&(e[a]=`@drawable/${o[1]}`,d=!0)}}if(r==="TextView"){if(t.color&&(e["android:textColor"]=f(t.color)),t["font-size"]&&(e["android:textSize"]=u(t["font-size"],"sp")),t["font-weight"]&&(t["font-weight"]==="bold"||Number.parseInt(t["font-weight"])>=700)&&(e["android:textStyle"]="bold"),t["text-align"]){const o=t["text-align"];let l="";o==="center"?l="center_horizontal":o==="right"?l="end":o==="left"&&(l="start"),e["android:gravity"]=l}if(t["line-height"]){const o=t["line-height"].match(/^(-?[\d.]+)px$/),l=t["font-size"]?.match(/^(-?[\d.]+)px$/);if(o&&l){const p=Number.parseFloat(o[1]),i=Number.parseFloat(l[1]),s=p-i;s>0&&(e["android:lineSpacingExtra"]=`${s}sp`,e["android:translationY"]=`-${s/2}sp`)}}t["text-overflow"]==="ellipsis"&&(e["android:ellipsize"]="end",t["white-space"]==="nowrap"&&(e["android:maxLines"]="1"))}if(t.padding){const o=m("padding",t.padding);Object.assign(e,o)}if(t.margin){const o=m("margin",t.margin);Object.assign(e,o)}if(t.opacity&&(e["android:alpha"]=t.opacity),t["border-radius"]){const o=u(t["border-radius"],"dp");n?e["app:cardCornerRadius"]=o:(e["android:clipToOutline"]="true",d||(e["android:background"]="@drawable/bg_rounded"))}if(t["box-shadow"]&&(n?e["app:cardElevation"]="4dp":e["android:elevation"]="4dp"),r==="LinearLayout"&&(t["flex-direction"]==="column"?e["android:orientation"]="vertical":e["android:orientation"]="horizontal"),r==="ImageView"&&(e["android:src"]="@drawable/placeholder",t["object-fit"]&&(t["object-fit"]==="cover"?e["android:scaleType"]="centerCrop":t["object-fit"]==="contain"&&(e["android:scaleType"]="centerInside"))),r!=="TextView"&&(t["justify-content"]==="center"||t["align-items"]==="center")){let o="";if(r==="LinearLayout"){const l=e["android:orientation"]==="vertical";t["justify-content"]==="center"&&(o+=l?"center_vertical":"center_horizontal"),t["align-items"]==="center"&&(o+=(o?"|":"")+(l?"center_horizontal":"center_vertical"))}else t["justify-content"]==="center"&&(o+="center_horizontal"),t["align-items"]==="center"&&(o+=`${o?"|":""}center_vertical`);o&&(e["android:gravity"]=o)}return(t.position==="absolute"||t.top||t.left||t.right||t.bottom)&&(t.top&&(e["android:layout_marginTop"]=u(t.top,"dp")),t.left&&(e["android:layout_marginStart"]=u(t.left,"dp")),t.right&&(e["android:layout_marginEnd"]=u(t.right,"dp")),t.bottom&&(e["android:layout_marginBottom"]=u(t.bottom,"dp")),t.top&&(e["android:layout_alignParentTop"]="true"),t.left&&(e["android:layout_alignParentStart"]="true"),t.right&&(e["android:layout_alignParentEnd"]="true"),t.bottom&&(e["android:layout_alignParentBottom"]="true")),e}function v(t){const r=N(t),e=T(t,r);r==="TextView"?(e["android:text"]||(e["android:text"]="@string/some_text"),e["android:id"]="@+id/some_id",t["text-align"]==="center"&&!e["android:gravity"]?.includes("center_vertical")&&(e["android:gravity"]=`${e["android:gravity"]||""}|top`)):(e["android:id"]=`@+id/frame_${Math.floor(Math.random()*1e4)}`,e["xmlns:android"]="http://schemas.android.com/apk/res/android",r.includes("CardView")&&(e["xmlns:app"]="http://schemas.android.com/apk/res-auto"));const n=Object.keys(e).sort((a,d)=>{const o=l=>l.startsWith("xmlns:")?0:l==="android:id"?1:l==="android:layout_width"?2:l==="android:layout_height"?3:4;return o(a)-o(d)}).map(a=>{let d=e[a];return a==="android:gravity"&&(d.startsWith("|")&&(d=d.substring(1)),d.endsWith("|")&&(d=d.substring(0,d.length-1))),`${a}="${d}"`}).join(`
  `);return`<${r}
  ${n}
/>`}function h(t,r="dp"){if(!t)return"";if(t.endsWith("%"))return t;const e=t.match(/^(-?[\d.]+)px$/);return e?`${Number.parseFloat(e[1])}.${r}`:t}function c(t){return t.endsWith("dp")||t.endsWith("sp")?t.replace(/([0-9.]+)((dp)|(sp))/,"$1.$2"):t}function A(t){return t["overflow-y"]==="scroll"||t["overflow-y"]==="auto"?"Column":t["overflow-x"]==="scroll"||t["overflow-x"]==="auto"?"Row":t["box-shadow"]?"Card":t["background-image"]&&t["background-image"].includes("url")||t["object-fit"]?"Image":t.display==="flex"?t["flex-direction"]==="column"?"Column":"Row":t["font-family"]||t.color||t["font-size"]||t["text-align"]||t["line-height"]||t["text-overflow"]?"Text":"Box"}function $(t){if(!t)return"Color.Unspecified";if(t.startsWith("#")){let r=t.substring(1);if(r.length===3&&(r=r.split("").map(e=>e+e).join("")),r.length===4&&(r=r.split("").map(e=>e+e).join("")),r.length===6)return`Color(0xFF${r.toUpperCase()})`;if(r.length===8){const e=r.substring(0,2),n=r.substring(2,4),a=r.substring(4,6);return`Color(0x${(r.substring(6,8)+e+n+a).toUpperCase()})`}}if(t.startsWith("rgba")){const r=t.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*([\d.]+))?\)/);if(r){const e=Number.parseInt(r[1]),n=Number.parseInt(r[2]),a=Number.parseInt(r[3]),d=r[4]?Number.parseFloat(r[4]):1,o=Math.round(d*255),l=p=>p.toString(16).padStart(2,"0").toUpperCase();return`Color(0x${l(o)}${l(e)}${l(n)}${l(a)})`}}if(t.startsWith("rgb")){const r=t.match(/rgb\((\d+),\s*(\d+),\s*(\d+)\)/);if(r){const e=Number.parseInt(r[1]),n=Number.parseInt(r[2]),a=Number.parseInt(r[3]),d=o=>o.toString(16).padStart(2,"0").toUpperCase();return`Color(0xFF${d(e)}${d(n)}${d(a)})`}}return{white:"Color.White",black:"Color.Black",red:"Color.Red",blue:"Color.Blue",green:"Color.Green",transparent:"Color.Transparent",gray:"Color.Gray",yellow:"Color.Yellow",cyan:"Color.Cyan",magenta:"Color.Magenta",lightgray:"Color.LightGray",darkgray:"Color.DarkGray",darkgrey:"Color.DarkGray",lightgrey:"Color.LightGray",grey:"Color.Gray"}[t.toLowerCase()]||"Color.Black"}function F(t){const r=A(t),e=[],n=[];if(t.width&&(t.width==="100%"?e.push(".fillMaxWidth()"):t.width==="auto"?e.push(".wrapContentWidth()"):e.push(`.width(${h(t.width,"dp")})`)),t.height&&(t.height==="100%"?e.push(".fillMaxHeight()"):t.height==="auto"?e.push(".wrapContentHeight()"):e.push(`.height(${h(t.height,"dp")})`)),t["flex-grow"]&&t["flex-grow"]!=="0"&&e.push(`.weight(${t["flex-grow"]}f)`),t.margin){const i=m("margin",t.margin),s=[];i["android:layout_marginStart"]&&s.push(`start = ${c(i["android:layout_marginStart"])}`),i["android:layout_marginTop"]&&s.push(`top = ${c(i["android:layout_marginTop"])}`),i["android:layout_marginEnd"]&&s.push(`end = ${c(i["android:layout_marginEnd"])}`),i["android:layout_marginBottom"]&&s.push(`bottom = ${c(i["android:layout_marginBottom"])}`),i["android:layout_margin"]&&s.push(`${c(i["android:layout_margin"])}`),s.length>0&&e.push(`.padding(${s.join(", ")})`)}if(t["border-radius"]){const i=h(t["border-radius"],"dp");e.push(`.clip(RoundedCornerShape(${i}))`)}if(t["background-color"]&&e.push(`.background(${$(t["background-color"])})`),t.border){const i=t.border.match(/([\d.]+)px\s+\w+\s+(.*)/);if(i){const s=i[1],g=i[2],_=t["border-radius"]?`RoundedCornerShape(${h(t["border-radius"],"dp")})`:"RectangleShape";e.push(`.border(${s}.dp, ${$(g)}, ${_})`)}}if(t.padding){const i=m("padding",t.padding),s=[];i["android:paddingStart"]&&s.push(`start = ${c(i["android:paddingStart"])}`),i["android:paddingTop"]&&s.push(`top = ${c(i["android:paddingTop"])}`),i["android:paddingEnd"]&&s.push(`end = ${c(i["android:paddingEnd"])}`),i["android:paddingBottom"]&&s.push(`bottom = ${c(i["android:paddingBottom"])}`),i["android:padding"]&&s.push(`${c(i["android:padding"])}`),s.length>0&&e.push(`.padding(${s.join(", ")})`)}if(r==="Text"){if(n.push('text = "Some Text"'),t.color&&n.push(`color = ${$(t.color)}`),t["font-size"]&&n.push(`fontSize = ${h(t["font-size"],"sp")}`),t["line-height"]&&n.push(`lineHeight = ${h(t["line-height"],"sp")}`),t["letter-spacing"]&&n.push(`letterSpacing = ${h(t["letter-spacing"],"sp")}`),t["font-weight"]){const i=t["font-weight"];i==="bold"||Number.parseInt(i)>=700?n.push("fontWeight = FontWeight.Bold"):Number.parseInt(i)<400?n.push("fontWeight = FontWeight.Light"):Number.parseInt(i)===500&&n.push("fontWeight = FontWeight.Medium")}if(t["text-align"]){const i=t["text-align"];i==="center"?n.push("textAlign = TextAlign.Center"):i==="right"?n.push("textAlign = TextAlign.End"):i==="justify"&&n.push("textAlign = TextAlign.Justify")}t["text-overflow"]==="ellipsis"&&(n.push("overflow = TextOverflow.Ellipsis"),t["white-space"]==="nowrap"&&n.push("maxLines = 1"))}else r==="Image"?(n.push("painter = painterResource(id = R.drawable.placeholder)"),n.push("contentDescription = null"),t["object-fit"]&&(t["object-fit"]==="cover"?n.push("contentScale = ContentScale.Crop"):t["object-fit"]==="contain"&&n.push("contentScale = ContentScale.Fit"))):(r==="Column"||r==="Row")&&(r==="Column"?(t["justify-content"]==="center"?n.push("verticalArrangement = Arrangement.Center"):t["justify-content"]==="flex-end"?n.push("verticalArrangement = Arrangement.Bottom"):t["justify-content"]==="space-between"&&n.push("verticalArrangement = Arrangement.SpaceBetween"),t["align-items"]==="center"?n.push("horizontalAlignment = Alignment.CenterHorizontally"):t["align-items"]==="flex-end"&&n.push("horizontalAlignment = Alignment.End")):(t["justify-content"]==="center"?n.push("horizontalArrangement = Arrangement.Center"):t["justify-content"]==="flex-end"?n.push("horizontalArrangement = Arrangement.End"):t["justify-content"]==="space-between"&&n.push("horizontalArrangement = Arrangement.SpaceBetween"),t["align-items"]==="center"?n.push("verticalAlignment = Alignment.CenterVertically"):t["align-items"]==="flex-end"&&n.push("verticalAlignment = Alignment.Bottom")));let a="Modifier";e.length>0?a+=`
        ${e.join(`
        `)}`:a="Modifier",n.unshift(`modifier = ${a}`);const d=n.join(`,
    `),o=["Box","Column","Row","Card"].includes(r),l="    ";let p="";return o?p=`${r}(
${l}${d.replace(/\n/g,`
${l}`)}
${l}) {
${l}${l}// Content
${l}}`:p=`${r}(
${l}${d.replace(/\n/g,`
${l}`)}
${l})`,p}function y(t){return t.replace(/[^a-z0-9]/gi,"")}function b(t){const r=t;if(r.fills&&Array.isArray(r.fills)&&r.fills.length>0){for(const e of r.fills)if(e.visible!==!1&&e.type==="SOLID"&&typeof e.color=="string")return e.color}return null}function w(t){return t.layoutMode||"NONE"}function j(t){const r=Object.keys(t).join(", ");return`<!-- Debug Info: Type=${t.type}, Name=${t.name}, Keys=[${r}] -->`}function k(t){const r=Object.keys(t).join(", ");return`// Debug Info: Type=${t.type}, Name=${t.name}, Keys=[${r}]`}function x(t,r=0){const e="  ".repeat(r);if(t.type==="TEXT")return`${e}<TextView
${e}  android:text="${t.characters}"
${e}  android:layout_width="wrap_content"
${e}  android:layout_height="wrap_content"
${e}/>`;if(["FRAME","GROUP","INSTANCE","COMPONENT"].includes(t.type)){const n=t,a=w(t);let d="FrameLayout",o="";a==="VERTICAL"?(d="LinearLayout",o+=`
${e}  android:orientation="vertical"`):a==="HORIZONTAL"&&(d="LinearLayout",o+=`
${e}  android:orientation="horizontal"`);const l=b(t);l&&(o+=`
${e}  android:background="${f(l)}"`);const p=(n.children||[]).map(g=>x(g,r+1)).join(`
`);let i=`<${d}
${e}  android:layout_width="match_parent"
${e}  android:layout_height="match_parent"${o}>`;t.type==="INSTANCE"||t.type==="COMPONENT"?i=`<!-- Component: ${t.name} -->
${e}<${d}
${e}  android:layout_width="wrap_content"
${e}  android:layout_height="wrap_content"${o}>`:a!=="NONE"&&(i=`<${d}
${e}  android:layout_width="wrap_content"
${e}  android:layout_height="wrap_content"${o}>`);let s=p;return s.trim()||(s=`${e}<!-- No children detected. If this is a Frame, please convert it to a Component to expose its structure. -->`),`${e}${i}
${s}
${e}</${d}>`}return`${e}<!-- Unknown Node: ${t.type} -->`}function S(t){return`${j(t)}
${x(t,0)}`}function C(t,r=0){const e="    ".repeat(r);if(t.type==="TEXT")return`${e}Text(text = "${t.characters}")`;if(["FRAME","GROUP","INSTANCE","COMPONENT"].includes(t.type)){const n=t,a=w(t);let d="Box",o="";if(a==="VERTICAL"?d="Column":a==="HORIZONTAL"&&(d="Row"),t.type==="INSTANCE"){const g=y(t.name);g&&(d=g),a==="VERTICAL"?d="Column":a==="HORIZONTAL"?d="Row":d="Box"}const l=b(t);l&&(o=`
${e}    .background(${$(l)})`);const p=(n.children||[]).map(g=>C(g,r+1)).join(`
`);let i="";o&&(i=`modifier = Modifier${o}`);let s=p;return s.trim()||(s=`${e}// No children detected. If this is a Frame, please convert it to a Component to expose its structure.`),s.trim()?i?`${e}${d}(
${e}    ${i}
${e}) {
${s}
${e}}`:`${e}${d} {
${s}
${e}}`:i?`${e}${d}(${i})`:`${e}${d}()`}return`${e}// Unknown Node: ${t.type} -->`}function I(t){return`${k(t)}
@Composable
fun ${y(t.name)||"MyComponent"}() {
${C(t,1)}
}`}const E={name:"android-xml-style",code:{css:{title:"delete-CSS",lang:"css",transform(){return""}},js:{title:"delete-JavaScript",lang:"js",transform(){return""}},"android-xml":{title:"Android XML",lang:"xml",transform({style:t}){return v(t)},transformComponent({component:t}){return S(t)}},"android-compose":{title:"Jetpack Compose",lang:"kotlin",transform({style:t}){return F(t)},transformComponent({component:t}){return I(t)}},"c-css":{title:"\u539F\u59CB\u6837\u5F0F",lang:"css",transform({style:t}){return Object.entries(t).map(([r,e])=>`${r}: ${e};`).join(`
`)}}}};export{E as default};
